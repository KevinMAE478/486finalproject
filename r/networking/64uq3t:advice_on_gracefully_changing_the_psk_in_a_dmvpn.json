[{"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t3", "data": {"contest_mode": false, "banned_by": null, "media_embed": {}, "subreddit": "networking", "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I have a client that needs to change the PSK in a DMVPN topology. Currently they are using a single PSK for the entire DMVPN topology (actual key replaced with 12345):&lt;/p&gt;\n\n&lt;p&gt;crypto isakmp key 12345 address 0.0.0.0&lt;/p&gt;\n\n&lt;p&gt;Is there a way to gracefully replace this key across all the DMVPN devices in such a way that I won&amp;#39;t cause a device to become disconnected? &lt;/p&gt;\n\n&lt;p&gt;Is it possible to have two keys configured at the same time so I can simply create a second key and then delete the old one? Something similar to this:&lt;/p&gt;\n\n&lt;p&gt;crypto isakmp key 12345 address 0.0.0.0\ncrypto isakmp key 67890 address 0.0.0.0&lt;/p&gt;\n\n&lt;p&gt;Any advice on this would be greatly appreciated.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "selftext": "I have a client that needs to change the PSK in a DMVPN topology. Currently they are using a single PSK for the entire DMVPN topology (actual key replaced with 12345):\n\ncrypto isakmp key 12345 address 0.0.0.0\n\nIs there a way to gracefully replace this key across all the DMVPN devices in such a way that I won't cause a device to become disconnected? \n\nIs it possible to have two keys configured at the same time so I can simply create a second key and then delete the old one? Something similar to this:\n\ncrypto isakmp key 12345 address 0.0.0.0\ncrypto isakmp key 67890 address 0.0.0.0\n\nAny advice on this would be greatly appreciated.\n", "likes": null, "suggested_sort": null, "user_reports": [], "secure_media": null, "link_flair_text": null, "id": "64uq3t", "gilded": 0, "secure_media_embed": {}, "clicked": false, "score": 6, "report_reasons": null, "author": "tbonejackson81", "saved": false, "mod_reports": [], "name": "t3_64uq3t", "subreddit_name_prefixed": "r/networking", "approved_by": null, "over_18": false, "domain": "self.networking", "hidden": false, "thumbnail": "", "subreddit_id": "t5_2qkaf", "edited": false, "link_flair_css_class": null, "author_flair_css_class": null, "downs": 0, "brand_safe": true, "archived": false, "removal_reason": null, "is_self": true, "hide_score": false, "spoiler": false, "permalink": "/r/networking/comments/64uq3t/advice_on_gracefully_changing_the_psk_in_a_dmvpn/", "num_reports": null, "locked": false, "stickied": false, "created": 1491984028.0, "url": "https://www.reddit.com/r/networking/comments/64uq3t/advice_on_gracefully_changing_the_psk_in_a_dmvpn/", "author_flair_text": null, "quarantine": false, "title": "Advice on Gracefully Changing the PSK in a DMVPN Topology", "created_utc": 1491955228.0, "distinguished": null, "media": null, "upvote_ratio": 0.66, "num_comments": 15, "visited": false, "subreddit_type": "public", "ups": 6}}], "after": null, "before": null}}, {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_64uq3t", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_64uq3t", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_64uq3t", "likes": null, "replies": "", "user_reports": [], "id": "dg6dhf4", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "fizzyRobot", "parent_id": "t1_dg5guyh", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "I love DMVPN.  I have to try really hard not to solve every problem I encounter with it.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;I love DMVPN.  I have to try really hard not to solve every problem I encounter with it.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dg6dhf4", "score_hidden": false, "stickied": false, "created": 1492052932.0, "created_utc": 1492024132.0, "depth": 2, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dg5guyh", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "onyx9", "parent_id": "t1_dg5bw4v", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "Thank you for pointing that out here, we're going to rollout DMVPN in the next few months and that is really good to know. ", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Thank you for pointing that out here, we&amp;#39;re going to rollout DMVPN in the next few months and that is really good to know. &lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dg5guyh", "score_hidden": false, "stickied": false, "created": 1492000026.0, "created_utc": 1491971226.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dg5bw4v", "gilded": 0, "archived": false, "score": 3, "report_reasons": null, "author": "tbonejackson81", "parent_id": "t3_64uq3t", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "I opened up a TAC case on this and here is what I got back. \n\nTLDR; You can change the key and it won't effect sessions that are already in place. \n\n\"I have replicated the setup in LAB, please find the summary notes-\n\n1)\tAs per your problem description, we understand that your dmvpn setup as isakmp key configured for address 0.0.0.9 and you wanted to gracefully change the setup to have new key without any downtime\n2)\tIn our lab environment, we have tried configuring the new key with same address 0.0.0.0 and observed following things-\n\nR3#show run | sec crypto isakmp key\ncrypto isakmp key cisco address 0.0.0.0\n\n\nR3(config)#crypto isakmp key cisco12 address 0.0.0.0\nA pre-shared key for address mask 0.0.0.0 0.0.0.0 already exists!\n\nSo we cannot override the isakmp key for same address, latter we remove the isakmp key and updated the same with new key and can see dmvpn stays up as session is already created.\n\nR3(config)#no crypto isakmp key cisco12 address 0.0.0.0\nR3(config)#do sh dmvpn\nLegend: Attrb --&gt; S - Static, D - Dynamic, I - Incomplete\n        N - NATed, L - Local, X - No Socket\n        # Ent --&gt; Number of NHRP entries with same NBMA peer\n        NHS Status: E --&gt; Expecting Replies, R --&gt; Responding, W --&gt; Waiting\n        UpDn Time --&gt; Up or Down Time for a Tunnel\n==========================================================================\n\nInterface: Tunnel0, IPv4 NHRP Details\nType:Spoke, NHRP Peers:1,\n\n# Ent  Peer NBMA Addr Peer Tunnel Add State  UpDn Tm Attrb\n----- --------------- --------------- ----- -------- -----\n     1 30.1.1.1           172.16.145.1    UP 00:30:15     S\n\n\nSo I updated the key at both ends and it worked.\"\n", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;I opened up a TAC case on this and here is what I got back. &lt;/p&gt;\n\n&lt;p&gt;TLDR; You can change the key and it won&amp;#39;t effect sessions that are already in place. &lt;/p&gt;\n\n&lt;p&gt;&amp;quot;I have replicated the setup in LAB, please find the summary notes-&lt;/p&gt;\n\n&lt;p&gt;1)  As per your problem description, we understand that your dmvpn setup as isakmp key configured for address 0.0.0.9 and you wanted to gracefully change the setup to have new key without any downtime\n2)  In our lab environment, we have tried configuring the new key with same address 0.0.0.0 and observed following things-&lt;/p&gt;\n\n&lt;p&gt;R3#show run | sec crypto isakmp key\ncrypto isakmp key cisco address 0.0.0.0&lt;/p&gt;\n\n&lt;p&gt;R3(config)#crypto isakmp key cisco12 address 0.0.0.0\nA pre-shared key for address mask 0.0.0.0 0.0.0.0 already exists!&lt;/p&gt;\n\n&lt;p&gt;So we cannot override the isakmp key for same address, latter we remove the isakmp key and updated the same with new key and can see dmvpn stays up as session is already created.&lt;/p&gt;\n\n&lt;p&gt;R3(config)#no crypto isakmp key cisco12 address 0.0.0.0\nR3(config)#do sh dmvpn\nLegend: Attrb --&amp;gt; S - Static, D - Dynamic, I - Incomplete\n        N - NATed, L - Local, X - No Socket\n        # Ent --&amp;gt; Number of NHRP entries with same NBMA peer\n        NHS Status: E --&amp;gt; Expecting Replies, R --&amp;gt; Responding, W --&amp;gt; Waiting&lt;/p&gt;\n\n&lt;h1&gt;        UpDn Time --&amp;gt; Up or Down Time for a Tunnel&lt;/h1&gt;\n\n&lt;p&gt;Interface: Tunnel0, IPv4 NHRP Details\nType:Spoke, NHRP Peers:1,&lt;/p&gt;\n\n&lt;h1&gt;Ent  Peer NBMA Addr Peer Tunnel Add State  UpDn Tm Attrb&lt;/h1&gt;\n\n&lt;hr/&gt;\n\n&lt;pre&gt;&lt;code&gt; 1 30.1.1.1           172.16.145.1    UP 00:30:15     S\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;So I updated the key at both ends and it worked.&amp;quot;&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dg5bw4v", "score_hidden": false, "stickied": false, "created": 1491992511.0, "created_utc": 1491963711.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 3}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_64uq3t", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_64uq3t", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_64uq3t", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_64uq3t", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_64uq3t", "likes": null, "replies": "", "user_reports": [], "id": "dg67lnb", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "bmoraca", "parent_id": "t1_dg62uve", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "xca is easier for me to use and to manipulate private keys and certs.  It's a comfort thing, I guess.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;xca is easier for me to use and to manipulate private keys and certs.  It&amp;#39;s a comfort thing, I guess.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dg67lnb", "score_hidden": false, "stickied": false, "created": 1492046917.0, "created_utc": 1492018117.0, "depth": 4, "mod_reports": [], "subreddit_type": "public", "ups": 2}}], "after": null, "before": null}}, "user_reports": [], "id": "dg62uve", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "kWV0XhdO", "parent_id": "t1_dg62eb7", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "Mostly I'm interested in your recommending xca over the CA that's built into the DMVPN hub.\n\nIf I didn't want an online CA, I might even consider running one in GNS3 :)", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Mostly I&amp;#39;m interested in your recommending xca over the CA that&amp;#39;s built into the DMVPN hub.&lt;/p&gt;\n\n&lt;p&gt;If I didn&amp;#39;t want an online CA, I might even consider running one in GNS3 :)&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dg62uve", "score_hidden": false, "stickied": false, "created": 1492042014.0, "created_utc": 1492013214.0, "depth": 3, "mod_reports": [], "subreddit_type": "public", "ups": 2}}], "after": null, "before": null}}, "user_reports": [], "id": "dg62eb7", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "bmoraca", "parent_id": "t1_dg621pe", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "Oh, I don't really prefer it as a production CA.  But if I had a small implementation of DMVPN and I needed an easy method to create a trust chain for authentication, xca works really well.  It's interface is flexible and intuitive (for the most part) and it provides a good place to securely store private keys and certificates.\n\nIf I was to do a large scale PKI, I would use Windows Certificate Services.  That's usually what I do, but if the org doesn't already have it and doesn't need it for anything else (like 802.1x) then xca is useful as a simple tool for generating and signing certificates.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Oh, I don&amp;#39;t really prefer it as a production CA.  But if I had a small implementation of DMVPN and I needed an easy method to create a trust chain for authentication, xca works really well.  It&amp;#39;s interface is flexible and intuitive (for the most part) and it provides a good place to securely store private keys and certificates.&lt;/p&gt;\n\n&lt;p&gt;If I was to do a large scale PKI, I would use Windows Certificate Services.  That&amp;#39;s usually what I do, but if the org doesn&amp;#39;t already have it and doesn&amp;#39;t need it for anything else (like 802.1x) then xca is useful as a simple tool for generating and signing certificates.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dg62eb7", "score_hidden": false, "stickied": false, "created": 1492041517.0, "created_utc": 1492012717.0, "depth": 2, "mod_reports": [], "subreddit_type": "public", "ups": 2}}], "after": null, "before": null}}, "user_reports": [], "id": "dg621pe", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "kWV0XhdO", "parent_id": "t1_dg5e4t2", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "I'm happy using the IOS CA server for this job. Mind elaborating on why you prefer this project?", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;I&amp;#39;m happy using the IOS CA server for this job. Mind elaborating on why you prefer this project?&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dg621pe", "score_hidden": false, "stickied": false, "created": 1492041142.0, "created_utc": 1492012342.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 2}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_64uq3t", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_64uq3t", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_64uq3t", "likes": null, "replies": "", "user_reports": [], "id": "dg666n3", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "tbonejackson81", "parent_id": "t1_dg5n6ay", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "lol, I suppose you are correct.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;lol, I suppose you are correct.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dg666n3", "score_hidden": false, "stickied": false, "created": 1492045490.0, "created_utc": 1492016690.0, "depth": 3, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dg5n6ay", "gilded": 0, "archived": false, "score": 3, "report_reasons": null, "author": "mattsl", "parent_id": "t1_dg5eloj", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "Didn't you just demonstrate that your current config had existing sessions stay active?", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Didn&amp;#39;t you just demonstrate that your current config had existing sessions stay active?&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dg5n6ay", "score_hidden": false, "stickied": false, "created": 1492014965.0, "created_utc": 1491986165.0, "depth": 2, "mod_reports": [], "subreddit_type": "public", "ups": 3}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_64uq3t", "likes": null, "replies": "", "user_reports": [], "id": "dg5fjb6", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "bmoraca", "parent_id": "t1_dg5eloj", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "It won't kill existing sessions, but if you have revocation checking via OCSP or CRL that's frequently updated (CRLs should be updated any time there's a revocation, or you can force it), rekeys should fail and new connections will fail.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;It won&amp;#39;t kill existing sessions, but if you have revocation checking via OCSP or CRL that&amp;#39;s frequently updated (CRLs should be updated any time there&amp;#39;s a revocation, or you can force it), rekeys should fail and new connections will fail.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dg5fjb6", "score_hidden": false, "stickied": false, "created": 1491997819.0, "created_utc": 1491969019.0, "depth": 2, "mod_reports": [], "subreddit_type": "public", "ups": 2}}], "after": null, "before": null}}, "user_reports": [], "id": "dg5eloj", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "tbonejackson81", "parent_id": "t1_dg5e4t2", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "But if you need to revoke the certificate, isn't there still an interim period of time in which the device can still connect?", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;But if you need to revoke the certificate, isn&amp;#39;t there still an interim period of time in which the device can still connect?&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dg5eloj", "score_hidden": false, "stickied": false, "created": 1491996363.0, "created_utc": 1491967563.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dg5e4t2", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "bmoraca", "parent_id": "t3_64uq3t", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "Next time, use certificates.\n\nEven if you don't have a root and don't care about revocation checking.\n\nYou can use xca as an offline root to easily sign your devices' certificates.  http://xca.sourceforge.net/xca-14.html", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Next time, use certificates.&lt;/p&gt;\n\n&lt;p&gt;Even if you don&amp;#39;t have a root and don&amp;#39;t care about revocation checking.&lt;/p&gt;\n\n&lt;p&gt;You can use xca as an offline root to easily sign your devices&amp;#39; certificates.  &lt;a href=\"http://xca.sourceforge.net/xca-14.html\"&gt;http://xca.sourceforge.net/xca-14.html&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dg5e4t2", "score_hidden": false, "stickied": false, "created": 1491995665.0, "created_utc": 1491966865.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 2}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_64uq3t", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_64uq3t", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_64uq3t", "likes": null, "replies": "", "user_reports": [], "id": "dg56wb7", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "andpassword", "parent_id": "t1_dg56k7e", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "Crap.\n\nYes, sorry.  I was not thinking clearly about the spoke-spoke tunnels.  We had a DMVPN topology, but almost never used spoke-spoke tunnels.  Since then we have switched to MPLS, so I was reaching back a bit.  ", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Crap.&lt;/p&gt;\n\n&lt;p&gt;Yes, sorry.  I was not thinking clearly about the spoke-spoke tunnels.  We had a DMVPN topology, but almost never used spoke-spoke tunnels.  Since then we have switched to MPLS, so I was reaching back a bit.  &lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dg56wb7", "score_hidden": false, "stickied": false, "created": 1491985947.0, "created_utc": 1491957147.0, "depth": 2, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dg56k7e", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "tbonejackson81", "parent_id": "t1_dg56hx8", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": " But if I do what you are saying, won't that break the spoke to spoke communication? I would think the PSK needs to be the same for all devices that would form tunnels.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;But if I do what you are saying, won&amp;#39;t that break the spoke to spoke communication? I would think the PSK needs to be the same for all devices that would form tunnels.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dg56k7e", "score_hidden": false, "stickied": false, "created": 1491985496.0, "created_utc": 1491956696.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dg56hx8", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "andpassword", "parent_id": "t3_64uq3t", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "You can configure a keyring such that 0.0.0.0 has key 12345, but specific IPs have their own keys.  In that way you can change the keys one by one with minimal disruption to a new key 67890 for each IP.  \n\nWhen you're done with that, you can delete the keyring and put the key back to 67890 for 0.0.0.0, if you want to.  Otherwise you can keep separate PSKs for each branch.\n\nYou won't be able to assign the same IP (0.0.0.0) 2 different keys in the same crypto map, at least I'm pretty sure you can't.  I tried once and I couldn't do it.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;You can configure a keyring such that 0.0.0.0 has key 12345, but specific IPs have their own keys.  In that way you can change the keys one by one with minimal disruption to a new key 67890 for each IP.  &lt;/p&gt;\n\n&lt;p&gt;When you&amp;#39;re done with that, you can delete the keyring and put the key back to 67890 for 0.0.0.0, if you want to.  Otherwise you can keep separate PSKs for each branch.&lt;/p&gt;\n\n&lt;p&gt;You won&amp;#39;t be able to assign the same IP (0.0.0.0) 2 different keys in the same crypto map, at least I&amp;#39;m pretty sure you can&amp;#39;t.  I tried once and I couldn&amp;#39;t do it.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dg56hx8", "score_hidden": false, "stickied": false, "created": 1491985410.0, "created_utc": 1491956610.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}]