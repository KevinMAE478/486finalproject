[{"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t3", "data": {"contest_mode": false, "banned_by": null, "media_embed": {}, "subreddit": "networking", "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;HI&lt;/p&gt;\n\n&lt;p&gt;I am using this lab &lt;a href=\"http://imgur.com/a/Sv3DS\"&gt;http://imgur.com/a/Sv3DS&lt;/a&gt; from the cbtnuggets source. The whole lab is setup on vmware workstation.&lt;/p&gt;\n\n&lt;p&gt;I am on the external network and my ip is 1.17. &lt;/p&gt;\n\n&lt;p&gt;I can ping the webservers from the f5 big-ip appliance. &lt;/p&gt;\n\n&lt;p&gt;And my setup of nodes, pools etc is as shown in this diagram &lt;a href=\"http://imgur.com/a/t2KcC\"&gt;http://imgur.com/a/t2KcC&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;I have created my virtual IP 192.168.1.177 and added pools to it. &lt;/p&gt;\n\n&lt;p&gt;The 192.168.1.177 should work as the website IP and I should be able to see the webpages being served but it&amp;#39;s not happening so.&lt;/p&gt;\n\n&lt;p&gt;When I check my logs on the f5 I can see the &amp;quot;in&amp;quot; packets but not the &amp;quot;out&amp;quot; packets. As  shown in the logs - &lt;a href=\"http://imgur.com/a/ar20w\"&gt;http://imgur.com/a/ar20w&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;But i see the out packets when I select the virtual servers selection in statistics type - \n&lt;a href=\"http://imgur.com/a/Ikf6o\"&gt;http://imgur.com/a/Ikf6o&lt;/a&gt; &lt;/p&gt;\n\n&lt;p&gt;I know the post is probably sktechy the way I explained it. Sorry for that. So I guess only f5 users and the ones who are aware of the cbt nuggets course would get it. &lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "selftext": "HI\n\nI am using this lab http://imgur.com/a/Sv3DS from the cbtnuggets source. The whole lab is setup on vmware workstation.\n\nI am on the external network and my ip is 1.17. \n\nI can ping the webservers from the f5 big-ip appliance. \n\nAnd my setup of nodes, pools etc is as shown in this diagram http://imgur.com/a/t2KcC\n\nI have created my virtual IP 192.168.1.177 and added pools to it. \n\nThe 192.168.1.177 should work as the website IP and I should be able to see the webpages being served but it's not happening so.\n\nWhen I check my logs on the f5 I can see the \"in\" packets but not the \"out\" packets. As  shown in the logs - http://imgur.com/a/ar20w\n\nBut i see the out packets when I select the virtual servers selection in statistics type - \nhttp://imgur.com/a/Ikf6o \n\nI know the post is probably sktechy the way I explained it. Sorry for that. So I guess only f5 users and the ones who are aware of the cbt nuggets course would get it. ", "likes": null, "suggested_sort": null, "user_reports": [], "secure_media": null, "link_flair_text": null, "id": "65dh3p", "gilded": 0, "secure_media_embed": {}, "clicked": false, "score": 5, "report_reasons": null, "author": "thenetworkking", "saved": false, "mod_reports": [], "name": "t3_65dh3p", "subreddit_name_prefixed": "r/networking", "approved_by": null, "over_18": false, "domain": "self.networking", "hidden": false, "thumbnail": "", "subreddit_id": "t5_2qkaf", "edited": false, "link_flair_css_class": null, "author_flair_css_class": "", "downs": 0, "brand_safe": true, "archived": false, "removal_reason": null, "is_self": true, "hide_score": false, "spoiler": false, "permalink": "/r/networking/comments/65dh3p/cannot_see_out_packets_in_my_f5_lab_any_help/", "num_reports": null, "locked": false, "stickied": false, "created": 1492215557.0, "url": "https://www.reddit.com/r/networking/comments/65dh3p/cannot_see_out_packets_in_my_f5_lab_any_help/", "author_flair_text": "vendor certs no more", "quarantine": false, "title": "Cannot see out packets in my f5 lab, any help appreciated.", "created_utc": 1492186757.0, "distinguished": null, "media": null, "upvote_ratio": 0.69, "num_comments": 5, "visited": false, "subreddit_type": "public", "ups": 5}}], "after": null, "before": null}}, {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_65dh3p", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_65dh3p", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_65dh3p", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_65dh3p", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_65dh3p", "likes": null, "replies": "", "user_reports": [], "id": "dgc4g1q", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "thenetworkking", "parent_id": "t1_dgam5jw", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "The tutorial i followed showed no additional config for the SNAT!\n\nCould there be anything else wrong here? Or maybe nothing is wrong and it's just some quirk which is stopping the traffic? I'm thinking maybe my AV or firewall?", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;The tutorial i followed showed no additional config for the SNAT!&lt;/p&gt;\n\n&lt;p&gt;Could there be anything else wrong here? Or maybe nothing is wrong and it&amp;#39;s just some quirk which is stopping the traffic? I&amp;#39;m thinking maybe my AV or firewall?&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dgc4g1q", "score_hidden": false, "stickied": false, "created": 1492383974.0, "created_utc": 1492355174.0, "depth": 4, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dgam5jw", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "Djinjja-Ninja", "parent_id": "t1_dgakqus", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "No, SNAT is a configurable option, you need to specify it. \n\nHaving said that, if the default gw on the web server is set to the Big-ip then it should be moot as the traffic will route back via that way anyway. \n\nI would do a packet capture on the web server itself and see what the traffic is doing there. \n\nIf the pool monitors are showing up, then there is no local net connectivity issue between the F5 and the nodes, and if you can see application traffic leaving the F5, but not returning it does point to the web server being at fault or there being an asymmetrical route. ", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;No, SNAT is a configurable option, you need to specify it. &lt;/p&gt;\n\n&lt;p&gt;Having said that, if the default gw on the web server is set to the Big-ip then it should be moot as the traffic will route back via that way anyway. &lt;/p&gt;\n\n&lt;p&gt;I would do a packet capture on the web server itself and see what the traffic is doing there. &lt;/p&gt;\n\n&lt;p&gt;If the pool monitors are showing up, then there is no local net connectivity issue between the F5 and the nodes, and if you can see application traffic leaving the F5, but not returning it does point to the web server being at fault or there being an asymmetrical route. &lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dgam5jw", "score_hidden": false, "stickied": false, "created": 1492289895.0, "created_utc": 1492261095.0, "depth": 3, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dgakqus", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "thenetworkking", "parent_id": "t1_dg9ftdb", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "Shouldn't the SNAT be applied automatically through the virtual server? \n\nHere is my config on the webserver http://imgur.com/a/3ZYCS. The default gw is set to the BIG-IP and I can ping it fine.\n\nOne thing is I can access the webservers directly from my host pc as well since i have an vmnet2 in the same range as the webservers, is that fine?", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Shouldn&amp;#39;t the SNAT be applied automatically through the virtual server? &lt;/p&gt;\n\n&lt;p&gt;Here is my config on the webserver &lt;a href=\"http://imgur.com/a/3ZYCS\"&gt;http://imgur.com/a/3ZYCS&lt;/a&gt;. The default gw is set to the BIG-IP and I can ping it fine.&lt;/p&gt;\n\n&lt;p&gt;One thing is I can access the webservers directly from my host pc as well since i have an vmnet2 in the same range as the webservers, is that fine?&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dgakqus", "score_hidden": false, "stickied": false, "created": 1492286682.0, "created_utc": 1492257882.0, "depth": 2, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dg9ftdb", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "Djinjja-Ninja", "parent_id": "t1_dg9emax", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "To extend on this likely correct answer. \n\nIf the default gateway of the servers is *not* the F5, then nodes will route traffic back to the source via their default gateway, which will asymmetrically route around the F5, and the response packets will get dropped. \n\nTwo ways to fix it. Either add a route to the source 192.168 network, or apply an SNAT automap to the virtual server so that all of the traffic is source natted behind the F5 interface and traffic naturally routes back. ", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;To extend on this likely correct answer. &lt;/p&gt;\n\n&lt;p&gt;If the default gateway of the servers is &lt;em&gt;not&lt;/em&gt; the F5, then nodes will route traffic back to the source via their default gateway, which will asymmetrically route around the F5, and the response packets will get dropped. &lt;/p&gt;\n\n&lt;p&gt;Two ways to fix it. Either add a route to the source 192.168 network, or apply an SNAT automap to the virtual server so that all of the traffic is source natted behind the F5 interface and traffic naturally routes back. &lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dg9ftdb", "score_hidden": false, "stickied": false, "created": 1492219233.0, "created_utc": 1492190433.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dg9emax", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "ccie39206", "parent_id": "t3_65dh3p", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "Without diving into your config much I'm willing to bet you need to SNAT your connection from the LTM to the pool members because they are responding asymmetrically to the source IP back to their default gateway instead of symmetrically back through the LTM.\n\nApologize for the brief answer I have a meeting in 2 minutes... :D", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Without diving into your config much I&amp;#39;m willing to bet you need to SNAT your connection from the LTM to the pool members because they are responding asymmetrically to the source IP back to their default gateway instead of symmetrically back through the LTM.&lt;/p&gt;\n\n&lt;p&gt;Apologize for the brief answer I have a meeting in 2 minutes... :D&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dg9emax", "score_hidden": false, "stickied": false, "created": 1492217864.0, "created_utc": 1492189064.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}]