[{"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t3", "data": {"contest_mode": false, "banned_by": null, "media_embed": {}, "subreddit": "networking", "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;We are in the process of setting up a serviced office. It could have up to 100 customers therefore 100 separate VLANs + other management and public VLANs.&lt;/p&gt;\n\n&lt;p&gt;These customer VLANs should not be able to access one another (obviously devices on the same customer VLAN should). However there will be public VLANs that all customer VLANs need to access as well.&lt;/p&gt;\n\n&lt;p&gt;There will of course also be an Internet Router/Firewall on another VLAN, that naturally all VLANs need access to for Internet Access. This VLAN also needs access to ALL VLANs in case we need to NAT traffic into a device on any VLAN.&lt;/p&gt;\n\n&lt;p&gt;What is the best way to achieve this segregation? Using ACLs seems impossible due to the scale (and on the N4000 there is a 100 ACL limit), so what options are available to achieve the above, while ensuring all routing is handled by the switching itself. For a setup of this scale, using my HA Firewalls as &amp;quot;Routers on Sticks&amp;quot; simply won&amp;#39;t handle the throughput. &lt;/p&gt;\n\n&lt;p&gt;Core (L3) switches -&amp;gt; N4032 (stacked)\n(Core trunked to all stacks of N2048s)\nAccess (in L2 mode) -&amp;gt; N2048 (stacked)&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "selftext": "We are in the process of setting up a serviced office. It could have up to 100 customers therefore 100 separate VLANs + other management and public VLANs.\n\nThese customer VLANs should not be able to access one another (obviously devices on the same customer VLAN should). However there will be public VLANs that all customer VLANs need to access as well.\n\nThere will of course also be an Internet Router/Firewall on another VLAN, that naturally all VLANs need access to for Internet Access. This VLAN also needs access to ALL VLANs in case we need to NAT traffic into a device on any VLAN.\n\nWhat is the best way to achieve this segregation? Using ACLs seems impossible due to the scale (and on the N4000 there is a 100 ACL limit), so what options are available to achieve the above, while ensuring all routing is handled by the switching itself. For a setup of this scale, using my HA Firewalls as \"Routers on Sticks\" simply won't handle the throughput. \n\nCore (L3) switches -&gt; N4032 (stacked)\n(Core trunked to all stacks of N2048s)\nAccess (in L2 mode) -&gt; N2048 (stacked)", "likes": null, "suggested_sort": null, "user_reports": [], "secure_media": null, "link_flair_text": null, "id": "65jrti", "gilded": 0, "secure_media_embed": {}, "clicked": false, "score": 20, "report_reasons": null, "author": "dms2701", "saved": false, "mod_reports": [], "name": "t3_65jrti", "subreddit_name_prefixed": "r/networking", "approved_by": null, "over_18": false, "domain": "self.networking", "hidden": false, "thumbnail": "", "subreddit_id": "t5_2qkaf", "edited": false, "link_flair_css_class": null, "author_flair_css_class": "", "downs": 0, "brand_safe": true, "archived": false, "removal_reason": null, "is_self": true, "hide_score": false, "spoiler": false, "permalink": "/r/networking/comments/65jrti/handling_multitenancy_on_l3_core_switches/", "num_reports": null, "locked": false, "stickied": false, "created": 1492300618.0, "url": "https://www.reddit.com/r/networking/comments/65jrti/handling_multitenancy_on_l3_core_switches/", "author_flair_text": "CCNA Security", "quarantine": false, "title": "Handling Multi-tenancy on L3 Core Switches", "created_utc": 1492271818.0, "distinguished": null, "media": null, "upvote_ratio": 0.88, "num_comments": 23, "visited": false, "subreddit_type": "public", "ups": 20}}], "after": null, "before": null}}, {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_65jrti", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_65jrti", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_65jrti", "likes": null, "replies": "", "user_reports": [], "id": "dgavuxd", "gilded": 0, "archived": false, "score": 3, "report_reasons": null, "author": "dms2701", "parent_id": "t1_dgavmub", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "I will only need to do the L3 routing on the cores with the VRFs, no need on the Access switches. ", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;I will only need to do the L3 routing on the cores with the VRFs, no need on the Access switches. &lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dgavuxd", "score_hidden": false, "stickied": false, "created": 1492304954.0, "created_utc": 1492276154.0, "depth": 2, "mod_reports": [], "subreddit_type": "public", "ups": 3}}], "after": null, "before": null}}, "user_reports": [], "id": "dgavmub", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "jezarnold", "parent_id": "t1_dgau5d3", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "Yep, and while N4000 supports this, unfortunately your N2000 do not \n\nSee [tech Center](http://en.community.dell.com/techcenter/networking/m/networking_files/20441039) article from 2015", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Yep, and while N4000 supports this, unfortunately your N2000 do not &lt;/p&gt;\n\n&lt;p&gt;See &lt;a href=\"http://en.community.dell.com/techcenter/networking/m/networking_files/20441039\"&gt;tech Center&lt;/a&gt; article from 2015&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dgavmub", "score_hidden": false, "stickied": false, "created": 1492304646.0, "created_utc": 1492275846.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 2}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_65jrti", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_65jrti", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_65jrti", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_65jrti", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_65jrti", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_65jrti", "likes": null, "replies": "", "user_reports": [], "id": "dgbd094", "gilded": 0, "archived": false, "score": 3, "report_reasons": null, "author": "MKeb", "parent_id": "t1_dgb2aq2", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "Depends on your platform. You're looking for route leaking. ", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Depends on your platform. You&amp;#39;re looking for route leaking. &lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dgbd094", "score_hidden": false, "stickied": false, "created": 1492328663.0, "created_utc": 1492299863.0, "depth": 6, "mod_reports": [], "subreddit_type": "public", "ups": 3}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_65jrti", "likes": null, "replies": "", "user_reports": [], "id": "dgbjzn0", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "feanor3", "parent_id": "t1_dgb2aq2", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "Put the public VLANs in their own VRF and allow the client VRFs to access the servers through the Firewall.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Put the public VLANs in their own VRF and allow the client VRFs to access the servers through the Firewall.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dgbjzn0", "score_hidden": false, "stickied": false, "created": 1492338706.0, "created_utc": 1492309906.0, "depth": 6, "mod_reports": [], "subreddit_type": "public", "ups": 2}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_65jrti", "likes": null, "replies": "", "user_reports": [], "id": "dgc5ops", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "jasonlitka", "parent_id": "t1_dgb2aq2", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "You want route leaking. Every VLAN Interface goes in a separate VRF and each gets a default route off-network. You leak routes between the VRFs for anything that needs access to another VRF.  A can see B. C can see B. A and C can't see each other.\n\nOn Cisco I'd use BGP and route-target import/export. I've no idea how to do it on a Dell system.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;You want route leaking. Every VLAN Interface goes in a separate VRF and each gets a default route off-network. You leak routes between the VRFs for anything that needs access to another VRF.  A can see B. C can see B. A and C can&amp;#39;t see each other.&lt;/p&gt;\n\n&lt;p&gt;On Cisco I&amp;#39;d use BGP and route-target import/export. I&amp;#39;ve no idea how to do it on a Dell system.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dgc5ops", "score_hidden": false, "stickied": false, "created": 1492385709.0, "created_utc": 1492356909.0, "depth": 6, "mod_reports": [], "subreddit_type": "public", "ups": 2}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_65jrti", "likes": null, "replies": "", "user_reports": [], "id": "dgblmq2", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "PacketDropper", "parent_id": "t1_dgb2aq2", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "Sounds like you need a BIG firewall. ", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Sounds like you need a BIG firewall. &lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dgblmq2", "score_hidden": false, "stickied": false, "created": 1492341115.0, "created_utc": 1492312315.0, "depth": 6, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dgb2aq2", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "dms2701", "parent_id": "t1_dgb1fo6", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "The idea though is to allow customer VLANs to talk to Public VLANs - like a server VLAN. I don't want this traffic being routed via the firewall to reduce overhead on the Firewall itself. Is this possible with VRFs? \ni.e. VLAN101 within VRF101 - this has a default route to the firewall via an IP within the VLAN Subinterface. Another VLAN, 99, which contains Servers. I want the VRF101 to speak to this via the switch, and not route via the firewall.\n\nI assume I would need to make every single VLAN a VRF in that instance, not just VRF for Customer VLANs, but VRFs for all VLANs inlcluding public ones and Management ones. Then use ip routes witihn the VRFs to drop traffic onto the appropriate VLAN? \n\nRight now - all VLANs have an IP address, which is the respective gateway for the client on that VLAN. \n", "edited": 1492289690.0, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;The idea though is to allow customer VLANs to talk to Public VLANs - like a server VLAN. I don&amp;#39;t want this traffic being routed via the firewall to reduce overhead on the Firewall itself. Is this possible with VRFs? \ni.e. VLAN101 within VRF101 - this has a default route to the firewall via an IP within the VLAN Subinterface. Another VLAN, 99, which contains Servers. I want the VRF101 to speak to this via the switch, and not route via the firewall.&lt;/p&gt;\n\n&lt;p&gt;I assume I would need to make every single VLAN a VRF in that instance, not just VRF for Customer VLANs, but VRFs for all VLANs inlcluding public ones and Management ones. Then use ip routes witihn the VRFs to drop traffic onto the appropriate VLAN? &lt;/p&gt;\n\n&lt;p&gt;Right now - all VLANs have an IP address, which is the respective gateway for the client on that VLAN. &lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dgb2aq2", "score_hidden": false, "stickied": false, "created": 1492313657.0, "created_utc": 1492284857.0, "depth": 5, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dgb1fo6", "gilded": 0, "archived": false, "score": 4, "report_reasons": null, "author": "MKeb", "parent_id": "t1_dgawq65", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "Segregate all customers with VRF-Lite. Don't share a firewall VLAN; instead, run routed subinterfaces/VLANS within each VRF to the firewall. Make your firewall itself the aggregation point for the VRFs. ", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Segregate all customers with VRF-Lite. Don&amp;#39;t share a firewall VLAN; instead, run routed subinterfaces/VLANS within each VRF to the firewall. Make your firewall itself the aggregation point for the VRFs. &lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dgb1fo6", "score_hidden": false, "stickied": false, "created": 1492312512.0, "created_utc": 1492283712.0, "depth": 4, "mod_reports": [], "subreddit_type": "public", "ups": 4}}], "after": null, "before": null}}, "user_reports": [], "id": "dgawq65", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "dms2701", "parent_id": "t1_dgawhpu", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "In this case though - it would route to the Shared Internet Vlan, which is a HA Pair of Firewalls. They have a route back to the Switch for all VLANs as it needs to be able to NAT to customer devices. This means customer VLANs could once again route between one another? \n", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;In this case though - it would route to the Shared Internet Vlan, which is a HA Pair of Firewalls. They have a route back to the Switch for all VLANs as it needs to be able to NAT to customer devices. This means customer VLANs could once again route between one another? &lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dgawq65", "score_hidden": false, "stickied": false, "created": 1492306127.0, "created_utc": 1492277327.0, "depth": 3, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dgawhpu", "gilded": 0, "archived": false, "score": 0, "report_reasons": null, "author": "uidzero48", "parent_id": "t1_dgau7vs", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "I don't use a Dell kit , but essentially each vlan will be a vrf and you will route each client vlan to the shared internet vlan.\n\nhttp://en.community.dell.com/techcenter/networking/m/networking_files/20441039", "edited": 1492277447.0, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;I don&amp;#39;t use a Dell kit , but essentially each vlan will be a vrf and you will route each client vlan to the shared internet vlan.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"http://en.community.dell.com/techcenter/networking/m/networking_files/20441039\"&gt;http://en.community.dell.com/techcenter/networking/m/networking_files/20441039&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dgawhpu", "score_hidden": false, "stickied": false, "created": 1492305812.0, "created_utc": 1492277012.0, "depth": 2, "mod_reports": [], "subreddit_type": "public", "ups": 0}}], "after": null, "before": null}}, "user_reports": [], "id": "dgau7vs", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "dms2701", "parent_id": "t1_dgau5d3", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "I've been looking into that - but I'm struggling to understand how it would tie into my current problem. Do you have any basic idea of what I would need to do? \n", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;I&amp;#39;ve been looking into that - but I&amp;#39;m struggling to understand how it would tie into my current problem. Do you have any basic idea of what I would need to do? &lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dgau7vs", "score_hidden": false, "stickied": false, "created": 1492302660.0, "created_utc": 1492273860.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dgau5d3", "gilded": 0, "archived": false, "score": 15, "report_reasons": null, "author": "uidzero48", "parent_id": "t3_65jrti", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "This is a perfect use case for vrf lite.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;This is a perfect use case for vrf lite.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dgau5d3", "score_hidden": false, "stickied": false, "created": 1492302562.0, "created_utc": 1492273762.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 15}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_65jrti", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_65jrti", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_65jrti", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_65jrti", "likes": null, "replies": "", "user_reports": [], "id": "dgbjpex", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "Expergefaction", "parent_id": "t1_dgb4ohk", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "Sorry. Didn't read that last paragraph :(", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Sorry. Didn&amp;#39;t read that last paragraph :(&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dgbjpex", "score_hidden": false, "stickied": false, "created": 1492338273.0, "created_utc": 1492309473.0, "depth": 3, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dgb4ohk", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "dms2701", "parent_id": "t1_dgb4ixl", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "Yes, sorry, its a complete Dell stack (out of my hands)", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Yes, sorry, its a complete Dell stack (out of my hands)&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dgb4ohk", "score_hidden": false, "stickied": false, "created": 1492316910.0, "created_utc": 1492288110.0, "depth": 2, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dgb4ixl", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "GunnyMcDuck", "parent_id": "t1_dgb0nek", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "I think our OP is running all Dell....", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;I think our OP is running all Dell....&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dgb4ixl", "score_hidden": false, "stickied": false, "created": 1492316699.0, "created_utc": 1492287899.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dgb0nek", "gilded": 0, "archived": false, "score": 6, "report_reasons": null, "author": "Expergefaction", "parent_id": "t3_65jrti", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "There is a Cisco validated design for this. Check out the CVD pages. They have outlines on both control plane and policy based isolation. Control plane obviously being preferable due to scalability.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;There is a Cisco validated design for this. Check out the CVD pages. They have outlines on both control plane and policy based isolation. Control plane obviously being preferable due to scalability.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dgb0nek", "score_hidden": false, "stickied": false, "created": 1492311479.0, "created_utc": 1492282679.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 6}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_65jrti", "likes": null, "replies": "", "user_reports": [], "id": "dgbfrnd", "gilded": 0, "archived": false, "score": 3, "report_reasons": null, "author": "always_creating", "parent_id": "t3_65jrti", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "You get a VRF, and you get a VRF - everyone gets a VRF!!!!!!", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;You get a VRF, and you get a VRF - everyone gets a VRF!!!!!!&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dgbfrnd", "score_hidden": false, "stickied": false, "created": 1492332564.0, "created_utc": 1492303764.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 3}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_65jrti", "likes": null, "replies": "", "user_reports": [], "id": "dgb25eo", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "Bowerbank", "parent_id": "t3_65jrti", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "As suggested VRF lite on your layer 3 devices will segregate all the traffic terminating the layer 2 traffic but when hitting a firewall depending on what you have and internet service you have, you can logically separate them on your network completely too. If not depending what you have agreed with your customer, each of their VRF's can terminate on your firewall as a DMZ and you can restrict access only to the internet from the respected DMZ ensuring no traffic can pass from one to another ", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;As suggested VRF lite on your layer 3 devices will segregate all the traffic terminating the layer 2 traffic but when hitting a firewall depending on what you have and internet service you have, you can logically separate them on your network completely too. If not depending what you have agreed with your customer, each of their VRF&amp;#39;s can terminate on your firewall as a DMZ and you can restrict access only to the internet from the respected DMZ ensuring no traffic can pass from one to another &lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dgb25eo", "score_hidden": false, "stickied": false, "created": 1492313457.0, "created_utc": 1492284657.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 2}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_65jrti", "likes": null, "replies": "", "user_reports": [], "id": "dgbo2us", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "JasonDJ", "parent_id": "t3_65jrti", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "What you're describing sounds a lot like Private and Community VLANS that was a topic on CCNP when I took it a few years ago.  I'm not sure if it still is because it has been replaced with more modern platforms like MPLS at Layer 2 or VRFs at Layer 3 that accomplish the same thing better.  That, and hosted firewall platforms for multi tenent environments (like Fortigate's VDOMs).", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;What you&amp;#39;re describing sounds a lot like Private and Community VLANS that was a topic on CCNP when I took it a few years ago.  I&amp;#39;m not sure if it still is because it has been replaced with more modern platforms like MPLS at Layer 2 or VRFs at Layer 3 that accomplish the same thing better.  That, and hosted firewall platforms for multi tenent environments (like Fortigate&amp;#39;s VDOMs).&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dgbo2us", "score_hidden": false, "stickied": false, "created": 1492344999.0, "created_utc": 1492316199.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 1}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_65jrti", "likes": null, "replies": "", "user_reports": [], "id": "dgbv3o4", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "Rexxhunt", "parent_id": "t3_65jrti", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "Vrf lite would work but if it was me I would use Clearpass with 802.1x dynamic vlan assignment. \nThis would involve having the user's enrol their devices into Clearpass and having a vlan per tennant. I would then terminate the subinterface on a firewall which would serve as the gateway/dhcp server/Nat point.  Tennants wired and wireless would then be in the same l2 domain. This would make finger pointing and metering much easier. ", "edited": 1492332995.0, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Vrf lite would work but if it was me I would use Clearpass with 802.1x dynamic vlan assignment. \nThis would involve having the user&amp;#39;s enrol their devices into Clearpass and having a vlan per tennant. I would then terminate the subinterface on a firewall which would serve as the gateway/dhcp server/Nat point.  Tennants wired and wireless would then be in the same l2 domain. This would make finger pointing and metering much easier. &lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dgbv3o4", "score_hidden": false, "stickied": false, "created": 1492361574.0, "created_utc": 1492332774.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}]