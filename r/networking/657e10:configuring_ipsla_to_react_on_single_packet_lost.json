[{"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t3", "data": {"contest_mode": false, "banned_by": null, "media_embed": {}, "subreddit": "networking", "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I am having issues getting our IPSLA monitoring to react on the loss of a single packet. Where it stands now I can get it to react on the loss of 2 packets in a single probe, but would like to get it down to alert on the loss of a single packet. I&amp;#39;m using Cisco 4948s to both generate and respond to probes. Below is the config I am using to get it to alert on 2 packets:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;ip sla 17\n  udp-jitter 192.168.55.10 50505 source-ip 192.168.65.10 codec g711ulaw codec-numpackets 20\n  tos 160\n  tag LAB1-LAB2-Jitter\n  frequency 15\n\nip sla reaction-configuration 17 react packetLossSD threshold-value 1 1 threshold-type immediate action-type trapOnly\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;I have tried the following reaction-configuration configs which seem like one of them should be the correct solution, but they also only alert at 2 packets lost.&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;ip sla reaction-configuration 17 react packetLossSD threshold-type immediate action-type trapOnly\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;and&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;ip sla reaction-configuration 17 react packetLossSD threshold-value 0 0 threshold-type immediate action-type trapOnly\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Has anyone else encountered this issue and found a solution? I have the ability to inject packetloss and test various configurations at will but have hit a wall trying to get it to alert on  losing a single packet.&lt;/p&gt;\n\n&lt;p&gt;Cheers!&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "selftext": "I am having issues getting our IPSLA monitoring to react on the loss of a single packet. Where it stands now I can get it to react on the loss of 2 packets in a single probe, but would like to get it down to alert on the loss of a single packet. I'm using Cisco 4948s to both generate and respond to probes. Below is the config I am using to get it to alert on 2 packets:\n\n    ip sla 17\n      udp-jitter 192.168.55.10 50505 source-ip 192.168.65.10 codec g711ulaw codec-numpackets 20\n      tos 160\n      tag LAB1-LAB2-Jitter\n      frequency 15\n\n    ip sla reaction-configuration 17 react packetLossSD threshold-value 1 1 threshold-type immediate action-type trapOnly\n\nI have tried the following reaction-configuration configs which seem like one of them should be the correct solution, but they also only alert at 2 packets lost.\n\n    ip sla reaction-configuration 17 react packetLossSD threshold-type immediate action-type trapOnly\nand\n\n    ip sla reaction-configuration 17 react packetLossSD threshold-value 0 0 threshold-type immediate action-type trapOnly\n\nHas anyone else encountered this issue and found a solution? I have the ability to inject packetloss and test various configurations at will but have hit a wall trying to get it to alert on  losing a single packet.\n\nCheers!", "likes": null, "suggested_sort": null, "user_reports": [], "secure_media": null, "link_flair_text": null, "id": "657e10", "gilded": 0, "secure_media_embed": {}, "clicked": false, "score": 20, "report_reasons": null, "author": "Ohh_Hashmere", "saved": false, "mod_reports": [], "name": "t3_657e10", "subreddit_name_prefixed": "r/networking", "approved_by": null, "over_18": false, "domain": "self.networking", "hidden": false, "thumbnail": "", "subreddit_id": "t5_2qkaf", "edited": false, "link_flair_css_class": null, "author_flair_css_class": null, "downs": 0, "brand_safe": true, "archived": false, "removal_reason": null, "is_self": true, "hide_score": false, "spoiler": false, "permalink": "/r/networking/comments/657e10/configuring_ipsla_to_react_on_single_packet_lost/", "num_reports": null, "locked": false, "stickied": false, "created": 1492137504.0, "url": "https://www.reddit.com/r/networking/comments/657e10/configuring_ipsla_to_react_on_single_packet_lost/", "author_flair_text": null, "quarantine": false, "title": "Configuring IPSLA to react on single packet lost", "created_utc": 1492108704.0, "distinguished": null, "media": null, "upvote_ratio": 0.83, "num_comments": 8, "visited": false, "subreddit_type": "public", "ups": 20}}], "after": null, "before": null}}, {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_657e10", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_657e10", "likes": null, "replies": "", "user_reports": [], "id": "dg85vub", "gilded": 0, "archived": false, "score": 3, "report_reasons": null, "author": "flippedbit0010", "parent_id": "t1_dg8236a", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "Agree with this guy, but gave OP upvote for all the leg work. ", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Agree with this guy, but gave OP upvote for all the leg work. &lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dg85vub", "score_hidden": false, "stickied": false, "created": 1492143770.0, "created_utc": 1492114970.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 3}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_657e10", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_657e10", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_657e10", "likes": null, "replies": "", "user_reports": [], "id": "dg8mzxg", "gilded": 0, "archived": false, "score": 7, "report_reasons": null, "author": "Ficon", "parent_id": "t1_dg89b9l", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "Hi, I'm Fibre Channel.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Hi, I&amp;#39;m Fibre Channel.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dg8mzxg", "score_hidden": false, "stickied": false, "created": 1492166192.0, "created_utc": 1492137392.0, "depth": 3, "mod_reports": [], "subreddit_type": "public", "ups": 7}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_657e10", "likes": null, "replies": "", "user_reports": [], "id": "dg9dtud", "gilded": 0, "archived": false, "score": 3, "report_reasons": null, "author": "Ohh_Hashmere", "parent_id": "t1_dg89b9l", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "Yea... I worded that part poorly. From an SLA perspective I would \"expect\" no packet loss and could have a word with the provider.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Yea... I worded that part poorly. From an SLA perspective I would &amp;quot;expect&amp;quot; no packet loss and could have a word with the provider.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dg9dtud", "score_hidden": false, "stickied": false, "created": 1492216975.0, "created_utc": 1492188175.0, "depth": 3, "mod_reports": [], "subreddit_type": "public", "ups": 3}}], "after": null, "before": null}}, "user_reports": [], "id": "dg89b9l", "gilded": 0, "archived": false, "score": 6, "report_reasons": null, "author": "ccie39206", "parent_id": "t1_dg85b3m", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "Where is this mythical place where packets are never lost?  :D", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Where is this mythical place where packets are never lost?  :D&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dg89b9l", "score_hidden": false, "stickied": false, "created": 1492147747.0, "created_utc": 1492118947.0, "depth": 2, "mod_reports": [], "subreddit_type": "public", "ups": 6}}], "after": null, "before": null}}, "user_reports": [], "id": "dg85b3m", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "Ohh_Hashmere", "parent_id": "t1_dg8236a", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "You're right, when running this in prod we won't really care even about a small blip of 2 packets lost. This exercise was mostly to try and get our IPSLA alerts to match up with another tool we have that snmp polls the IPSLA packet loss OIDs and graphs them. I found it a strange Cisco limitation that you could not alert on single packet loss and was wondering if there was a simple solution I was overlooking. Our IPSLA components also sit on a p2p link where I would expect no packet loss at all", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;You&amp;#39;re right, when running this in prod we won&amp;#39;t really care even about a small blip of 2 packets lost. This exercise was mostly to try and get our IPSLA alerts to match up with another tool we have that snmp polls the IPSLA packet loss OIDs and graphs them. I found it a strange Cisco limitation that you could not alert on single packet loss and was wondering if there was a simple solution I was overlooking. Our IPSLA components also sit on a p2p link where I would expect no packet loss at all&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dg85b3m", "score_hidden": false, "stickied": false, "created": 1492143140.0, "created_utc": 1492114340.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dg8236a", "gilded": 0, "archived": false, "score": 7, "report_reasons": null, "author": "the-packet-thrower", "parent_id": "t3_657e10", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "I think your probably at a point where the complexity of the solution would outweigh its benefits. Surely an alert on 2 packets is good enough no?", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;I think your probably at a point where the complexity of the solution would outweigh its benefits. Surely an alert on 2 packets is good enough no?&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dg8236a", "score_hidden": false, "stickied": false, "created": 1492139627.0, "created_utc": 1492110827.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 7}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_657e10", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qkaf", "removal_reason": null, "link_id": "t3_657e10", "likes": null, "replies": "", "user_reports": [], "id": "dg9dqfu", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "Ohh_Hashmere", "parent_id": "t1_dg8ghs0", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "This is a clever solution that I had not even come close to thinking about. Will put some more thought into this. Thanks!", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;This is a clever solution that I had not even come close to thinking about. Will put some more thought into this. Thanks!&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dg9dqfu", "score_hidden": false, "stickied": false, "created": 1492216872.0, "created_utc": 1492188072.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dg8ghs0", "gilded": 0, "archived": false, "score": 7, "report_reasons": null, "author": "iamsisyphus", "parent_id": "t3_657e10", "subreddit_name_prefixed": "r/networking", "controversiality": 0, "body": "If the switches are directly connected, you can turn on BFD (bidirectional forwarding detection). From there, you can trap on BFD state changes or monitor for lost BFD echoes. The timers are on the scale of multiple echoes per second.\n\nI'm pretty sure there is very basic support for GRE on your platform, but I'm not sure if your switches support BFD over GRE, which could give you hyper sensitive end to end connectivity information.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;If the switches are directly connected, you can turn on BFD (bidirectional forwarding detection). From there, you can trap on BFD state changes or monitor for lost BFD echoes. The timers are on the scale of multiple echoes per second.&lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;m pretty sure there is very basic support for GRE on your platform, but I&amp;#39;m not sure if your switches support BFD over GRE, which could give you hyper sensitive end to end connectivity information.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "networking", "name": "t1_dg8ghs0", "score_hidden": false, "stickied": false, "created": 1492157176.0, "created_utc": 1492128376.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 7}}], "after": null, "before": null}}]