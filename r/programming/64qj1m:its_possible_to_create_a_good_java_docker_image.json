[{"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t3", "data": {"contest_mode": false, "banned_by": null, "media_embed": {}, "subreddit": "programming", "selftext_html": null, "selftext": "", "likes": null, "suggested_sort": null, "user_reports": [], "secure_media": null, "link_flair_text": null, "id": "64qj1m", "gilded": 0, "secure_media_embed": {}, "clicked": false, "score": 34, "report_reasons": null, "author": "alexei_led", "saved": false, "mod_reports": [], "name": "t3_64qj1m", "subreddit_name_prefixed": "r/programming", "approved_by": null, "over_18": false, "domain": "hackernoon.com", "hidden": false, "thumbnail": "", "subreddit_id": "t5_2fwo", "edited": false, "link_flair_css_class": null, "author_flair_css_class": null, "downs": 0, "brand_safe": true, "archived": false, "removal_reason": null, "is_self": false, "hide_score": false, "spoiler": false, "permalink": "/r/programming/comments/64qj1m/its_possible_to_create_a_good_java_docker_image/", "num_reports": null, "locked": false, "stickied": false, "created": 1491942797.0, "url": "https://hackernoon.com/crafting-perfect-java-docker-build-flow-740f71638d63", "author_flair_text": null, "quarantine": false, "title": "It's possible to create a good Java Docker image, but it's not a trivial task. There are a lot of things you need to consider.", "created_utc": 1491913997.0, "distinguished": null, "media": null, "upvote_ratio": 0.78, "num_comments": 14, "visited": false, "subreddit_type": "public", "ups": 34}}], "after": null, "before": null}}, {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2fwo", "removal_reason": null, "link_id": "t3_64qj1m", "likes": null, "replies": "", "user_reports": [], "id": "dg4caxd", "gilded": 0, "archived": false, "score": 20, "report_reasons": null, "author": "steamruler", "parent_id": "t3_64qj1m", "subreddit_name_prefixed": "r/programming", "controversiality": 0, "body": "&gt;It's possible to create a good ~~Java~~ Docker image, but it's not a trivial task. There are a lot of things you need to consider.\n\nFTFY. Pretty often I find unnecessary services running. Sometimes ones that even cause confusion as for why.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;blockquote&gt;\n&lt;p&gt;It&amp;#39;s possible to create a good &lt;del&gt;Java&lt;/del&gt; Docker image, but it&amp;#39;s not a trivial task. There are a lot of things you need to consider.&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;FTFY. Pretty often I find unnecessary services running. Sometimes ones that even cause confusion as for why.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "programming", "name": "t1_dg4caxd", "score_hidden": false, "stickied": false, "created": 1491950480.0, "created_utc": 1491921680.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 20}}, {"kind": "t1", "data": {"subreddit_id": "t5_2fwo", "removal_reason": null, "link_id": "t3_64qj1m", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2fwo", "removal_reason": null, "link_id": "t3_64qj1m", "likes": null, "replies": "", "user_reports": [], "id": "dg7d24w", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "EughEugh", "parent_id": "t1_dg4t3up", "subreddit_name_prefixed": "r/programming", "controversiality": 0, "body": "Ok, but that's a new feature in Java 9 which is not out yet and according to the comments in the source code it's an experimental feature.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Ok, but that&amp;#39;s a new feature in Java 9 which is not out yet and according to the comments in the source code it&amp;#39;s an experimental feature.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "programming", "name": "t1_dg7d24w", "score_hidden": false, "stickied": false, "created": 1492105952.0, "created_utc": 1492077152.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dg4t3up", "gilded": 0, "archived": false, "score": 3, "report_reasons": null, "author": "frugalmail", "parent_id": "t3_64qj1m", "subreddit_name_prefixed": "r/programming", "controversiality": 0, "body": "Java has a fix for the --memory issue already committed:\nhttp://hg.openjdk.java.net/jdk9/jdk9/hotspot/rev/5f1d1df0ea49\n\n", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Java has a fix for the --memory issue already committed:\n&lt;a href=\"http://hg.openjdk.java.net/jdk9/jdk9/hotspot/rev/5f1d1df0ea49\"&gt;http://hg.openjdk.java.net/jdk9/jdk9/hotspot/rev/5f1d1df0ea49&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "programming", "name": "t1_dg4t3up", "score_hidden": false, "stickied": false, "created": 1491968874.0, "created_utc": 1491940074.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 3}}, {"kind": "t1", "data": {"subreddit_id": "t5_2fwo", "removal_reason": null, "link_id": "t3_64qj1m", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2fwo", "removal_reason": null, "link_id": "t3_64qj1m", "likes": null, "replies": "", "user_reports": [], "id": "dg59s7e", "gilded": 0, "archived": false, "score": 5, "report_reasons": null, "author": "theta_d", "parent_id": "t1_dg4i7h7", "subreddit_name_prefixed": "r/programming", "controversiality": 0, "body": "Configure and build the image once and you never have to do it again. You can just reuse it every time you have a maven based project to build. ", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Configure and build the image once and you never have to do it again. You can just reuse it every time you have a maven based project to build. &lt;/p&gt;\n&lt;/div&gt;", "subreddit": "programming", "name": "t1_dg59s7e", "score_hidden": false, "stickied": false, "created": 1491989689.0, "created_utc": 1491960889.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 5}}, {"kind": "t1", "data": {"subreddit_id": "t5_2fwo", "removal_reason": null, "link_id": "t3_64qj1m", "likes": null, "replies": "", "user_reports": [], "id": "dg5atox", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "EntroperZero", "parent_id": "t1_dg4i7h7", "subreddit_name_prefixed": "r/programming", "controversiality": 0, "body": "It's not at all about being able to install Maven on the host.  You want a consistent build environment that you can use \"from scratch\" for every build.  And you can make whatever images you need with whatever build dependencies you have, and not worry about compatibility issues, or which build server has which dependencies installed.  Just start a container.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;It&amp;#39;s not at all about being able to install Maven on the host.  You want a consistent build environment that you can use &amp;quot;from scratch&amp;quot; for every build.  And you can make whatever images you need with whatever build dependencies you have, and not worry about compatibility issues, or which build server has which dependencies installed.  Just start a container.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "programming", "name": "t1_dg5atox", "score_hidden": false, "stickied": false, "created": 1491991067.0, "created_utc": 1491962267.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 2}}, {"kind": "t1", "data": {"subreddit_id": "t5_2fwo", "removal_reason": null, "link_id": "t3_64qj1m", "likes": null, "replies": "", "user_reports": [], "id": "dg5k87g", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "pathslog", "parent_id": "t1_dg4i7h7", "subreddit_name_prefixed": "r/programming", "controversiality": 0, "body": "It sounds reasonable if you need to automate the build process into a portable environment. Mostly, dev shops already have their own build infrastructure built on some standard, and devs simply follow some guidelines to recreate that on their workstations. But if you are just now setting up new infrastructure, that's not very far fetched. Aside from maven builds, there are other use cases. Test automation can also be isolated into containers.\n\nOur team, for example, is just beginning to dive into Docker.\n\nIn the past, we dealt with the need to have a customized Nginx build that includes third party modules at compile time. If you have ever done that, you can picture the image: All kinds of lib*-dev packages, build-essential, and whatever. It would be a silly to polute a workstation with all that. And our Jenins/CI environment is already bloated with all sorts of legacy and new JDKs/Mavens/etc. So, behold, we maintain a separate dedicated host that we only use once in a while to build Nginx.\n\nAs of now, we are working on a Dockerfile that will be specialized for that. It creates an image that has all dependencies and perfectly configured to build and spit out ready-to-use **\\*.deb** packages of our customized Nginx. Once the build is done, we can throw away the entire container and the image! Both of which can be recreated from the Dockerfile and build scripts comitted to VCS.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;It sounds reasonable if you need to automate the build process into a portable environment. Mostly, dev shops already have their own build infrastructure built on some standard, and devs simply follow some guidelines to recreate that on their workstations. But if you are just now setting up new infrastructure, that&amp;#39;s not very far fetched. Aside from maven builds, there are other use cases. Test automation can also be isolated into containers.&lt;/p&gt;\n\n&lt;p&gt;Our team, for example, is just beginning to dive into Docker.&lt;/p&gt;\n\n&lt;p&gt;In the past, we dealt with the need to have a customized Nginx build that includes third party modules at compile time. If you have ever done that, you can picture the image: All kinds of lib*-dev packages, build-essential, and whatever. It would be a silly to polute a workstation with all that. And our Jenins/CI environment is already bloated with all sorts of legacy and new JDKs/Mavens/etc. So, behold, we maintain a separate dedicated host that we only use once in a while to build Nginx.&lt;/p&gt;\n\n&lt;p&gt;As of now, we are working on a Dockerfile that will be specialized for that. It creates an image that has all dependencies and perfectly configured to build and spit out ready-to-use &lt;strong&gt;*.deb&lt;/strong&gt; packages of our customized Nginx. Once the build is done, we can throw away the entire container and the image! Both of which can be recreated from the Dockerfile and build scripts comitted to VCS.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "programming", "name": "t1_dg5k87g", "score_hidden": false, "stickied": false, "created": 1492006778.0, "created_utc": 1491977978.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dg4i7h7", "gilded": 0, "archived": false, "score": 4, "report_reasons": null, "author": "mjr00", "parent_id": "t3_64qj1m", "subreddit_name_prefixed": "r/programming", "controversiality": 0, "body": "I don't know why there's so much focus in the article on making a maven build image. Putting a Jenkins/CI infrastructure into Docker isn't a bad idea (I've done it, it works well) but doing a one-off for Maven projects doesn't seem like it solves any problems. The likelihood of needing to build a JVM application on an environment where you can't install the JDK/Maven, but *can* install docker, seems infinitesimal.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;I don&amp;#39;t know why there&amp;#39;s so much focus in the article on making a maven build image. Putting a Jenkins/CI infrastructure into Docker isn&amp;#39;t a bad idea (I&amp;#39;ve done it, it works well) but doing a one-off for Maven projects doesn&amp;#39;t seem like it solves any problems. The likelihood of needing to build a JVM application on an environment where you can&amp;#39;t install the JDK/Maven, but &lt;em&gt;can&lt;/em&gt; install docker, seems infinitesimal.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "programming", "name": "t1_dg4i7h7", "score_hidden": false, "stickied": false, "created": 1491957053.0, "created_utc": 1491928253.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 4}}, {"kind": "t1", "data": {"subreddit_id": "t5_2fwo", "removal_reason": null, "link_id": "t3_64qj1m", "likes": null, "replies": "", "user_reports": [], "id": "dg4lno0", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "ErstwhileRockstar", "parent_id": "t3_64qj1m", "subreddit_name_prefixed": "r/programming", "controversiality": 0, "body": "Adam Bien: [Java EE 7 + Thin WARs + Docker = Great Productivity](http://www.adam-bien.com/roller/abien/entry/java_ee_7_thin_wars)", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Adam Bien: &lt;a href=\"http://www.adam-bien.com/roller/abien/entry/java_ee_7_thin_wars\"&gt;Java EE 7 + Thin WARs + Docker = Great Productivity&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "programming", "name": "t1_dg4lno0", "score_hidden": false, "stickied": false, "created": 1491960821.0, "created_utc": 1491932021.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 2}}, {"kind": "t1", "data": {"subreddit_id": "t5_2fwo", "removal_reason": null, "link_id": "t3_64qj1m", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2fwo", "removal_reason": null, "link_id": "t3_64qj1m", "likes": null, "replies": "", "user_reports": [], "id": "dg4jq0s", "gilded": 0, "archived": false, "score": 11, "report_reasons": null, "author": "_Mardoxx", "parent_id": "t1_dg4dbfb", "subreddit_name_prefixed": "r/programming", "controversiality": 0, "body": "Can't tell if you're taking the piss or not", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Can&amp;#39;t tell if you&amp;#39;re taking the piss or not&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "programming", "name": "t1_dg4jq0s", "score_hidden": false, "stickied": false, "created": 1491958705.0, "created_utc": 1491929905.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 11}}, {"kind": "t1", "data": {"subreddit_id": "t5_2fwo", "removal_reason": null, "link_id": "t3_64qj1m", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2fwo", "removal_reason": null, "link_id": "t3_64qj1m", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2fwo", "removal_reason": null, "link_id": "t3_64qj1m", "likes": null, "replies": "", "user_reports": [], "id": "dg55pm0", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "frugalmail", "parent_id": "t1_dg4wopy", "subreddit_name_prefixed": "r/programming", "controversiality": 0, "body": "&gt; But that doesn't have most of the features that people like about Docker..\n\nSorry.  I'm not suggesting that people not use docker, I'm just saying that Java solved problems that containers solve better now, and they have some changes that are being made to address them", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;blockquote&gt;\n&lt;p&gt;But that doesn&amp;#39;t have most of the features that people like about Docker..&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;Sorry.  I&amp;#39;m not suggesting that people not use docker, I&amp;#39;m just saying that Java solved problems that containers solve better now, and they have some changes that are being made to address them&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "programming", "name": "t1_dg55pm0", "score_hidden": false, "stickied": false, "created": 1491984379.0, "created_utc": 1491955579.0, "depth": 3, "mod_reports": [], "subreddit_type": "public", "ups": 2}}], "after": null, "before": null}}, "user_reports": [], "id": "dg4wopy", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "50653", "parent_id": "t1_dg4sp9s", "subreddit_name_prefixed": "r/programming", "controversiality": 0, "body": "&gt; Considering that the WAR/App Server layer was Java's attempt at containerization before it was popular. \n\nBut that doesn't have most of the features that people like about Docker..\n\n * No filesystem isolation\n * No network adaptor isolation (so you have to worry about port number conflicts)\n * Limited resource allocation (has good controls for memory usage but not CPU or network usage).\n * Doesn't protect you from an application's bad behavior (like if an app spawns child processes and doesn't clean them up)", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;blockquote&gt;\n&lt;p&gt;Considering that the WAR/App Server layer was Java&amp;#39;s attempt at containerization before it was popular. &lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;But that doesn&amp;#39;t have most of the features that people like about Docker..&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;No filesystem isolation&lt;/li&gt;\n&lt;li&gt;No network adaptor isolation (so you have to worry about port number conflicts)&lt;/li&gt;\n&lt;li&gt;Limited resource allocation (has good controls for memory usage but not CPU or network usage).&lt;/li&gt;\n&lt;li&gt;Doesn&amp;#39;t protect you from an application&amp;#39;s bad behavior (like if an app spawns child processes and doesn&amp;#39;t clean them up)&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/div&gt;", "subreddit": "programming", "name": "t1_dg4wopy", "score_hidden": false, "stickied": false, "created": 1491972865.0, "created_utc": 1491944065.0, "depth": 2, "mod_reports": [], "subreddit_type": "public", "ups": 1}}, {"kind": "t1", "data": {"subreddit_id": "t5_2fwo", "removal_reason": null, "link_id": "t3_64qj1m", "likes": null, "replies": "", "user_reports": [], "id": "dg4tv11", "gilded": 0, "archived": false, "score": 0, "report_reasons": null, "author": "geodel", "parent_id": "t1_dg4sp9s", "subreddit_name_prefixed": "r/programming", "controversiality": 0, "body": "One just has to read limitations of it to see if it is an elaborate joke or not.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;One just has to read limitations of it to see if it is an elaborate joke or not.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "programming", "name": "t1_dg4tv11", "score_hidden": false, "stickied": false, "created": 1491969695.0, "created_utc": 1491940895.0, "depth": 2, "mod_reports": [], "subreddit_type": "public", "ups": 0}}], "after": null, "before": null}}, "user_reports": [], "id": "dg4sp9s", "gilded": 0, "archived": false, "score": 5, "report_reasons": null, "author": "frugalmail", "parent_id": "t1_dg4dbfb", "subreddit_name_prefixed": "r/programming", "controversiality": 0, "body": "Considering that the WAR/App Server layer was Java's attempt at containerization before it was popular.  It's easy for people to criticize despite the other platforms (except .NET which copied Java) not having a solution until recently.\n\nOpen Java has a preview of it's compile to native solution:\nhttp://openjdk.java.net/jeps/295\n- Which would mean your forego the hotspot compiles to only optimizations you can do during compile time.\n\nSo you don't have to use the proprietary one that's been available for a while.\n\n", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Considering that the WAR/App Server layer was Java&amp;#39;s attempt at containerization before it was popular.  It&amp;#39;s easy for people to criticize despite the other platforms (except .NET which copied Java) not having a solution until recently.&lt;/p&gt;\n\n&lt;p&gt;Open Java has a preview of it&amp;#39;s compile to native solution:\n&lt;a href=\"http://openjdk.java.net/jeps/295\"&gt;http://openjdk.java.net/jeps/295&lt;/a&gt;\n- Which would mean your forego the hotspot compiles to only optimizations you can do during compile time.&lt;/p&gt;\n\n&lt;p&gt;So you don&amp;#39;t have to use the proprietary one that&amp;#39;s been available for a while.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "programming", "name": "t1_dg4sp9s", "score_hidden": false, "stickied": false, "created": 1491968445.0, "created_utc": 1491939645.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 5}}], "after": null, "before": null}}, "user_reports": [], "id": "dg4dbfb", "gilded": 0, "archived": false, "score": 4, "report_reasons": null, "author": "geodel", "parent_id": "t3_64qj1m", "subreddit_name_prefixed": "r/programming", "controversiality": 1, "body": "I like these numbers. This shows why Java on cloud is so awesome.\n\n* 4.8MB Alpine Linux Layer\n* 103MB OpenJDK JRE Layer\n* 61.8MB Application WAR file\n\nREPOSITORY TAG IMAGE ID CREATED SIZE \n\n* sbdemo/run latest 6f432638aa60 7 minutes ago 143 MB \n* sbdemo/tutorial 1 669333d13d71 12 minutes ago 1.28 GB \n* sbdemo/tutorial 2 38634e4d9d5e 3 hours ago 1.26 GB \n* sbdemo/builder mvn 2d325a403c5f 5 days ago 263 MB", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;I like these numbers. This shows why Java on cloud is so awesome.&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;4.8MB Alpine Linux Layer&lt;/li&gt;\n&lt;li&gt;103MB OpenJDK JRE Layer&lt;/li&gt;\n&lt;li&gt;61.8MB Application WAR file&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;REPOSITORY TAG IMAGE ID CREATED SIZE &lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;sbdemo/run latest 6f432638aa60 7 minutes ago 143 MB &lt;/li&gt;\n&lt;li&gt;sbdemo/tutorial 1 669333d13d71 12 minutes ago 1.28 GB &lt;/li&gt;\n&lt;li&gt;sbdemo/tutorial 2 38634e4d9d5e 3 hours ago 1.26 GB &lt;/li&gt;\n&lt;li&gt;sbdemo/builder mvn 2d325a403c5f 5 days ago 263 MB&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/div&gt;", "subreddit": "programming", "name": "t1_dg4dbfb", "score_hidden": false, "stickied": false, "created": 1491951637.0, "created_utc": 1491922837.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 4}}], "after": null, "before": null}}]