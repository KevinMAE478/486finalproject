[{"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t3", "data": {"contest_mode": false, "banned_by": null, "media_embed": {}, "subreddit": "raspberry_pi", "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I spent the better part of last night trying to hack my way to getting Alexa to talk to my Pi, and I succeeded but it&amp;#39;s so terrible. &lt;/p&gt;\n\n&lt;p&gt;Basically I have an SQS queue in AWS that a lambda triggers. My pi constantly polls that queue for messages and does what it needs to. Then, I have IFTTT set up with Alexa that will ping my lambda function when it gets triggered.&lt;/p&gt;\n\n&lt;p&gt;It&amp;#39;s super convoluted but I suspect there&amp;#39;s a better way that doesn&amp;#39;t expose my Pi to the internet at large.&lt;/p&gt;\n\n&lt;p&gt;The AWS IoT sdk is kind of a hot mess with regards to documentation, so I wasted a lot of time on that.&lt;/p&gt;\n\n&lt;p&gt;Anyway, what strategies have you used before? I&amp;#39;d like to simplify the process as I plan on having a few more Pis controlled by Alexa in the very near future.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "selftext": "I spent the better part of last night trying to hack my way to getting Alexa to talk to my Pi, and I succeeded but it's so terrible. \n\nBasically I have an SQS queue in AWS that a lambda triggers. My pi constantly polls that queue for messages and does what it needs to. Then, I have IFTTT set up with Alexa that will ping my lambda function when it gets triggered.\n\nIt's super convoluted but I suspect there's a better way that doesn't expose my Pi to the internet at large.\n\nThe AWS IoT sdk is kind of a hot mess with regards to documentation, so I wasted a lot of time on that.\n\nAnyway, what strategies have you used before? I'd like to simplify the process as I plan on having a few more Pis controlled by Alexa in the very near future.", "likes": null, "suggested_sort": null, "user_reports": [], "secure_media": null, "link_flair_text": null, "id": "6563kp", "gilded": 0, "secure_media_embed": {}, "clicked": false, "score": 7, "report_reasons": null, "author": "shadowycoder", "saved": false, "mod_reports": [], "name": "t3_6563kp", "subreddit_name_prefixed": "r/raspberry_pi", "approved_by": null, "over_18": false, "domain": "self.raspberry_pi", "hidden": false, "thumbnail": "self", "subreddit_id": "t5_2syto", "edited": false, "link_flair_css_class": null, "author_flair_css_class": null, "downs": 0, "brand_safe": true, "archived": false, "removal_reason": null, "is_self": true, "hide_score": false, "spoiler": false, "permalink": "/r/raspberry_pi/comments/6563kp/whats_the_best_way_to_connect_a_pi_to_alexa/", "num_reports": null, "locked": false, "stickied": false, "created": 1492125427.0, "url": "https://www.reddit.com/r/raspberry_pi/comments/6563kp/whats_the_best_way_to_connect_a_pi_to_alexa/", "author_flair_text": null, "quarantine": false, "title": "What's the best way to connect a Pi to Alexa?", "created_utc": 1492096627.0, "distinguished": null, "media": null, "upvote_ratio": 0.74, "num_comments": 7, "visited": false, "subreddit_type": "public", "ups": 7}}], "after": null, "before": null}}, {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2syto", "removal_reason": null, "link_id": "t3_6563kp", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2syto", "removal_reason": null, "link_id": "t3_6563kp", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2syto", "removal_reason": null, "link_id": "t3_6563kp", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2syto", "removal_reason": null, "link_id": "t3_6563kp", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2syto", "removal_reason": null, "link_id": "t3_6563kp", "likes": null, "replies": "", "user_reports": [], "id": "dg7vi13", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "Giannie", "parent_id": "t1_dg7vh04", "subreddit_name_prefixed": "r/raspberry_pi", "controversiality": 0, "body": "Happy to help, let me know if you need any more", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Happy to help, let me know if you need any more&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "raspberry_pi", "name": "t1_dg7vi13", "score_hidden": false, "stickied": false, "created": 1492132586.0, "created_utc": 1492103786.0, "depth": 4, "mod_reports": [], "subreddit_type": "public", "ups": 2}}], "after": null, "before": null}}, "user_reports": [], "id": "dg7vh04", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "shadowycoder", "parent_id": "t1_dg7vbzi", "subreddit_name_prefixed": "r/raspberry_pi", "controversiality": 0, "body": "Oh definitely. That's far easier than the setup I currently have, haha.\n\nThanks for the config, that is incredibly helpful!", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Oh definitely. That&amp;#39;s far easier than the setup I currently have, haha.&lt;/p&gt;\n\n&lt;p&gt;Thanks for the config, that is incredibly helpful!&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "raspberry_pi", "name": "t1_dg7vh04", "score_hidden": false, "stickied": false, "created": 1492132557.0, "created_utc": 1492103757.0, "depth": 3, "mod_reports": [], "subreddit_type": "public", "ups": 2}}], "after": null, "before": null}}, "user_reports": [], "id": "dg7vbzi", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "Giannie", "parent_id": "t1_dg7u6aw", "subreddit_name_prefixed": "r/raspberry_pi", "controversiality": 0, "body": "So your home assistant config would want the following bits:\n\n    homeassistant:\n      customize:\n        switch.alexa_switch:\n          friendly_name: \"Name you want to use for Alexa\"\n          emulated_hue: true\n          assumed_state: true\n    switch:\n      platform: command_line\n      switches:\n        alexa_switch:\n          command_on: /path/to/command\n          command_off: /path/to/command\n    emulated_hue:\n      host_ip: &lt;your pi IP address here&gt;\n      expose_by_default: false\n\nThen in the Alexa app, under the smart home menu, hit discover devices and see the magic happen. You'll just need to say \"Alexa, turn on 'the name you gave'\"\n\nI hope this helps. Bear in mind that the first block labelled home assistant should be added to the existing home assistant block, you can't have two of the same labels in the config. There will already be a home assistant block in the default config and you just need to add the customize stuff there. Also note that home assistant uses the yaml config language, white space is important at the beginning of lines.\n\nI hope this helps.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;So your home assistant config would want the following bits:&lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;homeassistant:\n  customize:\n    switch.alexa_switch:\n      friendly_name: &amp;quot;Name you want to use for Alexa&amp;quot;\n      emulated_hue: true\n      assumed_state: true\nswitch:\n  platform: command_line\n  switches:\n    alexa_switch:\n      command_on: /path/to/command\n      command_off: /path/to/command\nemulated_hue:\n  host_ip: &amp;lt;your pi IP address here&amp;gt;\n  expose_by_default: false\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Then in the Alexa app, under the smart home menu, hit discover devices and see the magic happen. You&amp;#39;ll just need to say &amp;quot;Alexa, turn on &amp;#39;the name you gave&amp;#39;&amp;quot;&lt;/p&gt;\n\n&lt;p&gt;I hope this helps. Bear in mind that the first block labelled home assistant should be added to the existing home assistant block, you can&amp;#39;t have two of the same labels in the config. There will already be a home assistant block in the default config and you just need to add the customize stuff there. Also note that home assistant uses the yaml config language, white space is important at the beginning of lines.&lt;/p&gt;\n\n&lt;p&gt;I hope this helps.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "raspberry_pi", "name": "t1_dg7vbzi", "score_hidden": false, "stickied": false, "created": 1492132406.0, "created_utc": 1492103606.0, "depth": 2, "mod_reports": [], "subreddit_type": "public", "ups": 2}}], "after": null, "before": null}}, "user_reports": [], "id": "dg7u6aw", "gilded": 0, "archived": false, "score": 3, "report_reasons": null, "author": "shadowycoder", "parent_id": "t1_dg7to50", "subreddit_name_prefixed": "r/raspberry_pi", "controversiality": 0, "body": "Oh that sounds fantastic. The end result is just running a simple bash script that toggles the tvservice on and off. I've currently got a Node.js script that polls SQS for the latest message and uses that to run the script with the expected values. I'll check this out, thanks!", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Oh that sounds fantastic. The end result is just running a simple bash script that toggles the tvservice on and off. I&amp;#39;ve currently got a Node.js script that polls SQS for the latest message and uses that to run the script with the expected values. I&amp;#39;ll check this out, thanks!&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "raspberry_pi", "name": "t1_dg7u6aw", "score_hidden": false, "stickied": false, "created": 1492131183.0, "created_utc": 1492102383.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 3}}], "after": null, "before": null}}, "user_reports": [], "id": "dg7to50", "gilded": 0, "archived": false, "score": 6, "report_reasons": null, "author": "Giannie", "parent_id": "t3_6563kp", "subreddit_name_prefixed": "r/raspberry_pi", "controversiality": 0, "body": "I use home assistant to do this: https://home-assistant.io\n\nIt's a pretty great home automation suite. Using a combination of the command line switch component and the emulated hue component, you can do pretty much anything.\n\nThe emulated hue component exposes your devices as Philips hue devices which Alexa integrates with very well.\n\nIf you tell me more about exactly what you want to achieve, I'd be happy to help writing a hass config file.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;I use home assistant to do this: &lt;a href=\"https://home-assistant.io\"&gt;https://home-assistant.io&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;It&amp;#39;s a pretty great home automation suite. Using a combination of the command line switch component and the emulated hue component, you can do pretty much anything.&lt;/p&gt;\n\n&lt;p&gt;The emulated hue component exposes your devices as Philips hue devices which Alexa integrates with very well.&lt;/p&gt;\n\n&lt;p&gt;If you tell me more about exactly what you want to achieve, I&amp;#39;d be happy to help writing a hass config file.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "raspberry_pi", "name": "t1_dg7to50", "score_hidden": false, "stickied": false, "created": 1492130648.0, "created_utc": 1492101848.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 6}}, {"kind": "t1", "data": {"subreddit_id": "t5_2syto", "removal_reason": null, "link_id": "t3_6563kp", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2syto", "removal_reason": null, "link_id": "t3_6563kp", "likes": null, "replies": "", "user_reports": [], "id": "dg8vm26", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "samack93", "parent_id": "t1_dg832lv", "subreddit_name_prefixed": "r/raspberry_pi", "controversiality": 0, "body": "I've also used this one, pretty clear explanation and it works very well!\n", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;I&amp;#39;ve also used this one, pretty clear explanation and it works very well!&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "raspberry_pi", "name": "t1_dg8vm26", "score_hidden": false, "stickied": false, "created": 1492182024.0, "created_utc": 1492153224.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dg832lv", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "ApoptosisX", "parent_id": "t3_6563kp", "subreddit_name_prefixed": "r/raspberry_pi", "controversiality": 0, "body": "I am awful with my Pi, but you have enough fancy words in your post to sound like you know what you are doing. I don't have the fundamentals to make heads or tails of it, but maybe this video will shed light on your project. \n\nhttps://www.youtube.com/watch?v=baec1CbV6A0\n", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;I am awful with my Pi, but you have enough fancy words in your post to sound like you know what you are doing. I don&amp;#39;t have the fundamentals to make heads or tails of it, but maybe this video will shed light on your project. &lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://www.youtube.com/watch?v=baec1CbV6A0\"&gt;https://www.youtube.com/watch?v=baec1CbV6A0&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "raspberry_pi", "name": "t1_dg832lv", "score_hidden": false, "stickied": false, "created": 1492140695.0, "created_utc": 1492111895.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}]