[{"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t3", "data": {"contest_mode": false, "banned_by": null, "media_embed": {}, "subreddit": "sysadmin", "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;Every time I read a thread about someone having a public facing terminal server, I always see the never ending slew of replies &amp;quot;You&amp;#39;re insane to have a public facing terminal server!&amp;quot;, &amp;quot;Stop being lazy and setup VPN!&amp;quot;, etc etc.&lt;/p&gt;\n\n&lt;p&gt;But these replies are never backed up by any factual information. It seems it&amp;#39;s more of &amp;quot;I always heard VPN is more secure, I always heard RDP is super insecure, and therefore I think you&amp;#39;re an idiot for not using VPN.&amp;quot; But let&amp;#39;s look at the facts:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;RDP in its current form, utilizes secure encryption, enforceable by policy, so sending unencrypted data isn&amp;#39;t a concern anymore.&lt;/li&gt;\n&lt;li&gt;RDP&amp;#39;s biggest risk is passwords being brute forced. This is severely mitigated by a good password policy and some type of brute force prevention system on the terminal server.&lt;/li&gt;\n&lt;li&gt;RDP is relatively mature, has years and years of development, bug testing, etc. Is it possible new vulnerabilities will be discovered? Sure. Does the same apply to IPSec? Sure.&lt;/li&gt;\n&lt;li&gt;For additional layers, a RD Gateway server can be deployed giving you a HTTPS front-end, additional security layers, giving you SSL-RDP-SSL-RDP system. Attackers have to make it through first SSL layer before they can expose a RDP vulnerability.&lt;/li&gt;\n&lt;li&gt;You can utilize 2FA systems on both a VPN and a RDP environment to add additional security layers to either.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Now, I&amp;#39;ll start by saying I always recommend VPN-only as the first/best solution for remote access for my clients. But many of them don&amp;#39;t like it, don&amp;#39;t want it, etc. So we end up giving them a public facing terminal server. But I would never want to say that in a thread, because I&amp;#39;ll instantly get slammed by all the RDP-naysayers telling me how insanely insecure and lazy it is.&lt;/p&gt;\n\n&lt;p&gt;Well, I would like to know from some of you, some &lt;em&gt;details&lt;/em&gt; as to &lt;em&gt;why&lt;/em&gt; you feel the need to say how insanely insecure and lazy a public facing RDP connection is.&lt;/p&gt;\n\n&lt;p&gt;Now, if your reasoning consists of:&lt;/p&gt;\n\n&lt;ul&gt;\n&lt;li&gt;It adds an additional attack vector - obviously this is an accurate statement. It&amp;#39;s an additional attack vector, you have to make sure the system is properly monitored, logged, and kept up-to-date, etc. It completely make sense to use VPN-only so you can limit yourself to a single vector.&lt;/li&gt;\n&lt;li&gt;RDP is completely insecure - OK, examples please? Yes I&amp;#39;m aware that every once in a while a vulnerability in RDP is discovered, but the same applies to IPSec, or ANY other protocol out there. In other words, shit happens. But does that justify it being called &amp;quot;completely insecure&amp;quot;?&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;Again, as I said earlier, I do strongly believe VPN is the best form of remote access out there, and I do recommend it as such. But I&amp;#39;m getting a little annoyed with the &amp;quot;OMG terminal server is so insecure&amp;quot; hype, when if setup properly, it can be a very secure platform for remote access, so much so that a public-facing RDP environment that utilizes proper security is considered 100% HIPAA compliant, and you have companies such as Amazon and Microsoft betting a huge market of their hosting environment on the security of the RDP protocol for remote access. I would love to hear any legitimate reasoning as to why it&amp;#39;s not that isn&amp;#39;t just hype. &lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "selftext": "Every time I read a thread about someone having a public facing terminal server, I always see the never ending slew of replies \"You're insane to have a public facing terminal server!\", \"Stop being lazy and setup VPN!\", etc etc.\n\nBut these replies are never backed up by any factual information. It seems it's more of \"I always heard VPN is more secure, I always heard RDP is super insecure, and therefore I think you're an idiot for not using VPN.\" But let's look at the facts:\n\n* RDP in its current form, utilizes secure encryption, enforceable by policy, so sending unencrypted data isn't a concern anymore.\n* RDP's biggest risk is passwords being brute forced. This is severely mitigated by a good password policy and some type of brute force prevention system on the terminal server.\n* RDP is relatively mature, has years and years of development, bug testing, etc. Is it possible new vulnerabilities will be discovered? Sure. Does the same apply to IPSec? Sure.\n* For additional layers, a RD Gateway server can be deployed giving you a HTTPS front-end, additional security layers, giving you SSL-RDP-SSL-RDP system. Attackers have to make it through first SSL layer before they can expose a RDP vulnerability.\n* You can utilize 2FA systems on both a VPN and a RDP environment to add additional security layers to either.\n\nNow, I'll start by saying I always recommend VPN-only as the first/best solution for remote access for my clients. But many of them don't like it, don't want it, etc. So we end up giving them a public facing terminal server. But I would never want to say that in a thread, because I'll instantly get slammed by all the RDP-naysayers telling me how insanely insecure and lazy it is.\n\nWell, I would like to know from some of you, some *details* as to *why* you feel the need to say how insanely insecure and lazy a public facing RDP connection is.\n\nNow, if your reasoning consists of:\n\n* It adds an additional attack vector - obviously this is an accurate statement. It's an additional attack vector, you have to make sure the system is properly monitored, logged, and kept up-to-date, etc. It completely make sense to use VPN-only so you can limit yourself to a single vector.\n* RDP is completely insecure - OK, examples please? Yes I'm aware that every once in a while a vulnerability in RDP is discovered, but the same applies to IPSec, or ANY other protocol out there. In other words, shit happens. But does that justify it being called \"completely insecure\"?\n\nAgain, as I said earlier, I do strongly believe VPN is the best form of remote access out there, and I do recommend it as such. But I'm getting a little annoyed with the \"OMG terminal server is so insecure\" hype, when if setup properly, it can be a very secure platform for remote access, so much so that a public-facing RDP environment that utilizes proper security is considered 100% HIPAA compliant, and you have companies such as Amazon and Microsoft betting a huge market of their hosting environment on the security of the RDP protocol for remote access. I would love to hear any legitimate reasoning as to why it's not that isn't just hype. ", "likes": null, "suggested_sort": null, "user_reports": [], "secure_media": null, "link_flair_text": null, "id": "64rxij", "gilded": 0, "secure_media_embed": {}, "clicked": false, "score": 46, "report_reasons": null, "author": "grdlock", "saved": false, "mod_reports": [], "name": "t3_64rxij", "subreddit_name_prefixed": "r/sysadmin", "approved_by": null, "over_18": false, "domain": "self.sysadmin", "hidden": false, "thumbnail": "self", "subreddit_id": "t5_2qnp7", "edited": 1491928618.0, "link_flair_css_class": null, "author_flair_css_class": "", "downs": 0, "brand_safe": true, "archived": false, "removal_reason": null, "is_self": true, "hide_score": false, "spoiler": false, "permalink": "/r/sysadmin/comments/64rxij/the_never_ending_public_facing_terminal_server/", "num_reports": null, "locked": false, "stickied": false, "created": 1491957179.0, "url": "https://www.reddit.com/r/sysadmin/comments/64rxij/the_never_ending_public_facing_terminal_server/", "author_flair_text": "IT Director/Sr. Sys Engineer", "quarantine": false, "title": "The never ending public facing terminal server debate.", "created_utc": 1491928379.0, "distinguished": null, "media": null, "upvote_ratio": 0.86, "num_comments": 39, "visited": false, "subreddit_type": "public", "ups": 46}}], "after": null, "before": null}}, {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": "", "user_reports": [], "id": "dg5gmpj", "gilded": 0, "archived": false, "score": 4, "report_reasons": null, "author": "pmormr", "parent_id": "t1_dg4itvu", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "&gt; poking 3389 through a firewall to an unpatched vista box because he knows no better.\n\nI could change a couple words in there and violate an NDA. People get owned like this all the time. RDP isn't \"insecure\", but people sure do implement it poorly *all the time*.\n\nThere's a big difference between somebody with limited resources trying to hack something together and a larger company. The larger company can have resources dedicated to \"doing it right\" by maintaining firewalls, IDS's, brute force mitigation software, good security policy etc. The smaller guy is better off buying something like Logmein Pro or setting up a VPN gateway.\n\nThis isn't a black and white thing and the advice you receive depends on your organization.\n\nI definitely agree with our canadian friend here though. The posts concerning RDP definitely skew towards the underinformed. You can't recommend an RD Gateway server with 2FA to someone who has no idea what they're doing; they're much better served by other solutions. ", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;blockquote&gt;\n&lt;p&gt;poking 3389 through a firewall to an unpatched vista box because he knows no better.&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;I could change a couple words in there and violate an NDA. People get owned like this all the time. RDP isn&amp;#39;t &amp;quot;insecure&amp;quot;, but people sure do implement it poorly &lt;em&gt;all the time&lt;/em&gt;.&lt;/p&gt;\n\n&lt;p&gt;There&amp;#39;s a big difference between somebody with limited resources trying to hack something together and a larger company. The larger company can have resources dedicated to &amp;quot;doing it right&amp;quot; by maintaining firewalls, IDS&amp;#39;s, brute force mitigation software, good security policy etc. The smaller guy is better off buying something like Logmein Pro or setting up a VPN gateway.&lt;/p&gt;\n\n&lt;p&gt;This isn&amp;#39;t a black and white thing and the advice you receive depends on your organization.&lt;/p&gt;\n\n&lt;p&gt;I definitely agree with our canadian friend here though. The posts concerning RDP definitely skew towards the underinformed. You can&amp;#39;t recommend an RD Gateway server with 2FA to someone who has no idea what they&amp;#39;re doing; they&amp;#39;re much better served by other solutions. &lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg5gmpj", "score_hidden": false, "stickied": false, "created": 1491999625.0, "created_utc": 1491970825.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 4}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": "", "user_reports": [], "id": "dg4ntg4", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "canadian_sysadmin", "parent_id": "t1_dg4lctd", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "I agree; I'm not saying RDP access directly through the internet is the *most* secure way to go about it. I'm just agreeing with the general sentiment that OP is getting to - basic RDP access by itself can be secured to a reasonable degree.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;I agree; I&amp;#39;m not saying RDP access directly through the internet is the &lt;em&gt;most&lt;/em&gt; secure way to go about it. I&amp;#39;m just agreeing with the general sentiment that OP is getting to - basic RDP access by itself can be secured to a reasonable degree.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg4ntg4", "score_hidden": false, "stickied": false, "created": 1491963191.0, "created_utc": 1491934391.0, "depth": 2, "mod_reports": [], "subreddit_type": "public", "ups": 2}}], "after": null, "before": null}}, "user_reports": [], "id": "dg4lctd", "gilded": 0, "archived": false, "score": 6, "report_reasons": null, "author": "linuxdragons", "parent_id": "t1_dg4itvu", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "Right. Also, what are the consequences if it is exploited? It is fairly easy to restrict what can be accessed by a VPN user on the VPN server. So now they have to break into VPN,  have limited access to the network and break into another system. Unless you implemented a DMZ or advanced networking config once they gain access to RDP they likely have gained access to many other systems with one point of entry.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Right. Also, what are the consequences if it is exploited? It is fairly easy to restrict what can be accessed by a VPN user on the VPN server. So now they have to break into VPN,  have limited access to the network and break into another system. Unless you implemented a DMZ or advanced networking config once they gain access to RDP they likely have gained access to many other systems with one point of entry.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg4lctd", "score_hidden": false, "stickied": false, "created": 1491960496.0, "created_utc": 1491931696.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 6}}], "after": null, "before": null}}, "user_reports": [], "id": "dg4itvu", "gilded": 0, "archived": false, "score": 36, "report_reasons": null, "author": "canadian_sysadmin", "parent_id": "t3_64rxij", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "I completely agree, it can be setup fairly securely.\n\nIt's just that usually in the context of /r/sysadmin, it's some guy with very little experience poking 3389 through a firewall to an unpatched vista box because he knows no better. At least they're coming here and asking, which is a start. But in a lot of threads RDP is already the wrong solution, security aside.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;I completely agree, it can be setup fairly securely.&lt;/p&gt;\n\n&lt;p&gt;It&amp;#39;s just that usually in the context of &lt;a href=\"/r/sysadmin\"&gt;/r/sysadmin&lt;/a&gt;, it&amp;#39;s some guy with very little experience poking 3389 through a firewall to an unpatched vista box because he knows no better. At least they&amp;#39;re coming here and asking, which is a start. But in a lot of threads RDP is already the wrong solution, security aside.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg4itvu", "score_hidden": false, "stickied": false, "created": 1491957744.0, "created_utc": 1491928944.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 36}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": "", "user_reports": [], "id": "dg4sk0p", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "leepfrog", "parent_id": "t1_dg4rlzf", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "This", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;This&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg4sk0p", "score_hidden": false, "stickied": false, "created": 1491968287.0, "created_utc": 1491939487.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 2}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": "", "user_reports": [], "id": "dg5ppfu", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "nyc4life", "parent_id": "t1_dg5mw87", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "Duo works great with RDGW", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Duo works great with RDGW&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg5ppfu", "score_hidden": false, "stickied": false, "created": 1492022789.0, "created_utc": 1491993989.0, "depth": 2, "mod_reports": [], "subreddit_type": "public", "ups": 2}}], "after": null, "before": null}}, "user_reports": [], "id": "dg5mw87", "gilded": 0, "archived": false, "score": -1, "report_reasons": null, "author": "cr0ft", "parent_id": "t1_dg4rlzf", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "Not good enough. \n\nBetter, but not good enough. \n\nYou need to add dual factor authentication to that of some kind, then it's solid.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Not good enough. &lt;/p&gt;\n\n&lt;p&gt;Better, but not good enough. &lt;/p&gt;\n\n&lt;p&gt;You need to add dual factor authentication to that of some kind, then it&amp;#39;s solid.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg5mw87", "score_hidden": false, "stickied": false, "created": 1492014098.0, "created_utc": 1491985298.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": -1}}], "after": null, "before": null}}, "user_reports": [], "id": "dg4rlzf", "gilded": 0, "archived": false, "score": 18, "report_reasons": null, "author": "Chicksnapped", "parent_id": "t3_64rxij", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "RD Gateway is great, that is what I use.  \n\nWhen I comment or see comments about not having RDP to the internet, it is for people who literally just have 3389 to the net or maybe changed the port.  \n\nI'd never do anything less than RD Gateway with 2012 R2 and a purchased certificate.  The user end is no difference other than filling in the gateway info etc into their RDP client.  ", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;RD Gateway is great, that is what I use.  &lt;/p&gt;\n\n&lt;p&gt;When I comment or see comments about not having RDP to the internet, it is for people who literally just have 3389 to the net or maybe changed the port.  &lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;d never do anything less than RD Gateway with 2012 R2 and a purchased certificate.  The user end is no difference other than filling in the gateway info etc into their RDP client.  &lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg4rlzf", "score_hidden": false, "stickied": false, "created": 1491967263.0, "created_utc": 1491938463.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 18}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": "", "user_reports": [], "id": "dg4rkar", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "sc302", "parent_id": "t1_dg4pwl7", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "Fwiw, depending on your firewall tech this can be done with well maintained lists.  But that is better than nothing.  You can't mitigate against all attacks, that is for sure, but enabling the best line of defense first is the best solution.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Fwiw, depending on your firewall tech this can be done with well maintained lists.  But that is better than nothing.  You can&amp;#39;t mitigate against all attacks, that is for sure, but enabling the best line of defense first is the best solution.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg4rkar", "score_hidden": false, "stickied": false, "created": 1491967213.0, "created_utc": 1491938413.0, "depth": 2, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dg4pwl7", "gilded": 0, "archived": false, "score": 5, "report_reasons": null, "author": "grdlock", "parent_id": "t1_dg4mrlf", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "As to what I use to blacklist IPs: https://www.reddit.com/r/sysadmin/comments/64rxij/the_never_ending_public_facing_terminal_server/dg4pq3g/\n\nI do agree with you though as to which setup is the most secure setup. My main point though is that I don't feel RDP, when setup properly, should get all the crazy \"OMG that's so lazy/insecure\" hype it tends to get these days.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;As to what I use to blacklist IPs: &lt;a href=\"https://www.reddit.com/r/sysadmin/comments/64rxij/the_never_ending_public_facing_terminal_server/dg4pq3g/\"&gt;https://www.reddit.com/r/sysadmin/comments/64rxij/the_never_ending_public_facing_terminal_server/dg4pq3g/&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;I do agree with you though as to which setup is the most secure setup. My main point though is that I don&amp;#39;t feel RDP, when setup properly, should get all the crazy &amp;quot;OMG that&amp;#39;s so lazy/insecure&amp;quot; hype it tends to get these days.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg4pwl7", "score_hidden": false, "stickied": false, "created": 1491965465.0, "created_utc": 1491936665.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 5}}], "after": null, "before": null}}, "user_reports": [], "id": "dg4mrlf", "gilded": 0, "archived": false, "score": 9, "report_reasons": null, "author": "sc302", "parent_id": "t3_64rxij", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "You need to understand password security, people in general, and brute force methods to be able to understand and answer the basic question of how is this not secure.\n\nlets deal with password security and people in general first.  regardless of how complex you make the requirement...someone is going to eventually use P@ssw0rd!@#$  yes that is essentially password1234.  This meets most password complexity requirements and is simple enough for the standard user to remember...for the most part users are simple creatures and they will do simple things.  \n\nNext up is brute force, average lockout period is between 3-5 times.  what if I were to program my brute force to stop after 3 times and try another logon id and then cycle through again after 15-30 minutes?  While it may take longer, it can eventually be brute forced.  \n\nWhat are you putting in place to not only lock the user that tried so many times but also black list the source ip?  Manually creating rules is a pain.  You can easily put in something to monitor user lockout, but what about user tries?  It can get very annoying if you do it for every user that mistypes their password a few times prior to lockout.\n\nWhen dealing with security, you aren't just dealing with outside attack.  You are also dealing with inside issues.\n\n\nThe right solution is to not put your inside network out there directly to be tried.  You can put rules to only have known ip's access and/or block certain countries...this helps a bit.  VPN makes sense because it doesn't rely on just one security mechanism...certificate plus user credentials in the least.  Cisco did make it a little harder with their ipsec vpn where they allowed a group ID and group password as well as the user credentials to be able to gain access.  Then came RSA Secure+ keys.  \n\nI will say at this point to mitigate the user problem that the most secure to access your resources are a vpn + rsa + terminal services.  You are only as secure as your weakest link, for the most part tech is not the weakest link.\n\nWhy do I say rds isn't very secure, it is because of the raw access that is usually allowed once it has been compromised, it is that you don't have enough controls to be able to give a good security outlook on what is happening, it is because I have been to too many customers that have been caught with their pants down due to simple passwords, not just on the admin side but also the client side.  It is quite simply too powerful in most cases to be allowed direct access from the internet.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;You need to understand password security, people in general, and brute force methods to be able to understand and answer the basic question of how is this not secure.&lt;/p&gt;\n\n&lt;p&gt;lets deal with password security and people in general first.  regardless of how complex you make the requirement...someone is going to eventually use P@ssw0rd!@#$  yes that is essentially password1234.  This meets most password complexity requirements and is simple enough for the standard user to remember...for the most part users are simple creatures and they will do simple things.  &lt;/p&gt;\n\n&lt;p&gt;Next up is brute force, average lockout period is between 3-5 times.  what if I were to program my brute force to stop after 3 times and try another logon id and then cycle through again after 15-30 minutes?  While it may take longer, it can eventually be brute forced.  &lt;/p&gt;\n\n&lt;p&gt;What are you putting in place to not only lock the user that tried so many times but also black list the source ip?  Manually creating rules is a pain.  You can easily put in something to monitor user lockout, but what about user tries?  It can get very annoying if you do it for every user that mistypes their password a few times prior to lockout.&lt;/p&gt;\n\n&lt;p&gt;When dealing with security, you aren&amp;#39;t just dealing with outside attack.  You are also dealing with inside issues.&lt;/p&gt;\n\n&lt;p&gt;The right solution is to not put your inside network out there directly to be tried.  You can put rules to only have known ip&amp;#39;s access and/or block certain countries...this helps a bit.  VPN makes sense because it doesn&amp;#39;t rely on just one security mechanism...certificate plus user credentials in the least.  Cisco did make it a little harder with their ipsec vpn where they allowed a group ID and group password as well as the user credentials to be able to gain access.  Then came RSA Secure+ keys.  &lt;/p&gt;\n\n&lt;p&gt;I will say at this point to mitigate the user problem that the most secure to access your resources are a vpn + rsa + terminal services.  You are only as secure as your weakest link, for the most part tech is not the weakest link.&lt;/p&gt;\n\n&lt;p&gt;Why do I say rds isn&amp;#39;t very secure, it is because of the raw access that is usually allowed once it has been compromised, it is that you don&amp;#39;t have enough controls to be able to give a good security outlook on what is happening, it is because I have been to too many customers that have been caught with their pants down due to simple passwords, not just on the admin side but also the client side.  It is quite simply too powerful in most cases to be allowed direct access from the internet.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg4mrlf", "score_hidden": false, "stickied": false, "created": 1491962032.0, "created_utc": 1491933232.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 9}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": "", "user_reports": [], "id": "dg4pdn0", "gilded": 0, "archived": false, "score": 5, "report_reasons": null, "author": "grdlock", "parent_id": "t1_dg4ja2r", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "We use Duo for a lot of our clients. Obviously it's an additional cost, but works great for integrating with a terminal server to provide the 2FA, or for use with a VPN as well - we do both regularly, and it's cake to setup.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;We use Duo for a lot of our clients. Obviously it&amp;#39;s an additional cost, but works great for integrating with a terminal server to provide the 2FA, or for use with a VPN as well - we do both regularly, and it&amp;#39;s cake to setup.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg4pdn0", "score_hidden": false, "stickied": false, "created": 1491964908.0, "created_utc": 1491936108.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 5}}], "after": null, "before": null}}, "user_reports": [], "id": "dg4ja2r", "gilded": 0, "archived": false, "score": 6, "report_reasons": null, "author": "ctilsie242", "parent_id": "t3_64rxij", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "RDP is secure in the fact that it does use encryption.  Unlike VNC which is fundamentally broken and nobody will ever fix it, RDP does keep with the times.\n\nHowever, the one issue it does have is that 2FA isn't inbuilt to it.  With SSH, one can configure the daemon to only allow keys, which is good enough to keep all known attacks out.\n\nIt would be nice if MS had some 2FA feature built in that could be turned on just for RDP, but not have to be used everywhere else.  Perhaps a special AD schema entry for a Google Authenticator seed for each user, so that could be used with RDP if turned on.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;RDP is secure in the fact that it does use encryption.  Unlike VNC which is fundamentally broken and nobody will ever fix it, RDP does keep with the times.&lt;/p&gt;\n\n&lt;p&gt;However, the one issue it does have is that 2FA isn&amp;#39;t inbuilt to it.  With SSH, one can configure the daemon to only allow keys, which is good enough to keep all known attacks out.&lt;/p&gt;\n\n&lt;p&gt;It would be nice if MS had some 2FA feature built in that could be turned on just for RDP, but not have to be used everywhere else.  Perhaps a special AD schema entry for a Google Authenticator seed for each user, so that could be used with RDP if turned on.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg4ja2r", "score_hidden": false, "stickied": false, "created": 1491958225.0, "created_utc": 1491929425.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 6}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": "", "user_reports": [], "id": "dg518xq", "gilded": 0, "archived": false, "score": 5, "report_reasons": null, "author": "asdlkf", "parent_id": "t3_64rxij", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "The most secure RDP server in the world is not as secure as a clone of itself behind a separate hardware firewall. ", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;The most secure RDP server in the world is not as secure as a clone of itself behind a separate hardware firewall. &lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg518xq", "score_hidden": false, "stickied": false, "created": 1491978430.0, "created_utc": 1491949630.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 5}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": "", "user_reports": [], "id": "dg5esam", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "thecodemonk", "parent_id": "t1_dg4u5u2", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "That and just little bit ago, someone posted here that they hacked through an insecure password on a RDP server, had all their VMs encrypted and had to pay a ransom to get it back... It's just a whole lot more secure to setup even something simple like OpenVPN with password and cert based security and then use RDP through that.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;That and just little bit ago, someone posted here that they hacked through an insecure password on a RDP server, had all their VMs encrypted and had to pay a ransom to get it back... It&amp;#39;s just a whole lot more secure to setup even something simple like OpenVPN with password and cert based security and then use RDP through that.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg5esam", "score_hidden": false, "stickied": false, "created": 1491996640.0, "created_utc": 1491967840.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 2}}], "after": null, "before": null}}, "user_reports": [], "id": "dg4u5u2", "gilded": 0, "archived": false, "score": 4, "report_reasons": null, "author": "Muppetz3", "parent_id": "t3_64rxij", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "I think it may be harder to setup properly is the reason. I don't have a lot of experience but one of our clients(not my account) had a brute force attack on their term server and the hacker got it and started to use their system as a bot.  They now use VPN. ", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;I think it may be harder to setup properly is the reason. I don&amp;#39;t have a lot of experience but one of our clients(not my account) had a brute force attack on their term server and the hacker got it and started to use their system as a bot.  They now use VPN. &lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg4u5u2", "score_hidden": false, "stickied": false, "created": 1491970034.0, "created_utc": 1491941234.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 4}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": "", "user_reports": [], "id": "dg58btv", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "benwsapp", "parent_id": "t1_dg57gny", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "but then you can pick up on that with your SIEM, etc", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;but then you can pick up on that with your SIEM, etc&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg58btv", "score_hidden": false, "stickied": false, "created": 1491987829.0, "created_utc": 1491959029.0, "depth": 4, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dg57gny", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "bigstrat2003", "parent_id": "t1_dg4lyo3", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "A company-owned laptop can be compromised through dumb user choices too, though. It isn't just BYOD stuff that can have that happen.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;A company-owned laptop can be compromised through dumb user choices too, though. It isn&amp;#39;t just BYOD stuff that can have that happen.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg57gny", "score_hidden": false, "stickied": false, "created": 1491986691.0, "created_utc": 1491957891.0, "depth": 3, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dg4lyo3", "gilded": 0, "archived": false, "score": 0, "report_reasons": null, "author": "benwsapp", "parent_id": "t1_dg4lnko", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "Well, I would hope people aren't letting people download a VPN client onto a BYOD PC", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Well, I would hope people aren&amp;#39;t letting people download a VPN client onto a BYOD PC&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg4lyo3", "score_hidden": false, "stickied": false, "created": 1491961154.0, "created_utc": 1491932354.0, "depth": 2, "mod_reports": [], "subreddit_type": "public", "ups": 0}}], "after": null, "before": null}}, "user_reports": [], "id": "dg4lnko", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "asciiman2000", "parent_id": "t1_dg4kx3g", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "If the user's PC is infected, copying files to a file server via a VPN is just as big of a problem.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;If the user&amp;#39;s PC is infected, copying files to a file server via a VPN is just as big of a problem.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg4lnko", "score_hidden": false, "stickied": false, "created": 1491960818.0, "created_utc": 1491932018.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 2}}], "after": null, "before": null}}, "user_reports": [], "id": "dg4kx3g", "gilded": 0, "archived": false, "score": 3, "report_reasons": null, "author": "benwsapp", "parent_id": "t3_64rxij", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "It's not that a terminal server is, today, physically insecure. I mean, it's still less secure than a VPN because it's a lot easier to find a zero day or something like that for RDP than for a VPN, but it's not insecure.\n\n\nMy issue, though, is that a terminal server gives full access to a domain joined server to users. Sure, you can lock it down. There's steps you can take to secure it. But it's just such an easily exploitable platform unless you take *everything* into account.\n\n\nLike, a user's PC could be compromised. So are you going to disallow them from copying files to the terminal server? To their network drives over the RDP connection? If so, wtf is the point of it if they can't copy to and from it?\n\n\n\nIt's just, by nature, not best practice. Sure, the transport is much more secure today than the 3389 days. But it's still just too big of an attack surface.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;It&amp;#39;s not that a terminal server is, today, physically insecure. I mean, it&amp;#39;s still less secure than a VPN because it&amp;#39;s a lot easier to find a zero day or something like that for RDP than for a VPN, but it&amp;#39;s not insecure.&lt;/p&gt;\n\n&lt;p&gt;My issue, though, is that a terminal server gives full access to a domain joined server to users. Sure, you can lock it down. There&amp;#39;s steps you can take to secure it. But it&amp;#39;s just such an easily exploitable platform unless you take &lt;em&gt;everything&lt;/em&gt; into account.&lt;/p&gt;\n\n&lt;p&gt;Like, a user&amp;#39;s PC could be compromised. So are you going to disallow them from copying files to the terminal server? To their network drives over the RDP connection? If so, wtf is the point of it if they can&amp;#39;t copy to and from it?&lt;/p&gt;\n\n&lt;p&gt;It&amp;#39;s just, by nature, not best practice. Sure, the transport is much more secure today than the 3389 days. But it&amp;#39;s still just too big of an attack surface.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg4kx3g", "score_hidden": false, "stickied": false, "created": 1491960021.0, "created_utc": 1491931221.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 3}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": "", "user_reports": [], "id": "dg4sbwz", "gilded": 0, "archived": false, "score": 3, "report_reasons": null, "author": "PetieG26", "parent_id": "t3_64rxij", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "Cyberarms.net has a great, free tool to soft and hard lock users for RDP users.  ", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Cyberarms.net has a great, free tool to soft and hard lock users for RDP users.  &lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg4sbwz", "score_hidden": false, "stickied": false, "created": 1491968049.0, "created_utc": 1491939249.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 3}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": "", "user_reports": [], "id": "dg5u99h", "gilded": 0, "archived": false, "score": 3, "report_reasons": null, "author": "planiverse", "parent_id": "t3_64rxij", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "It's all about risk: identifying risk, mitigating risk, accepting risk.\n\nAny organization needs to look at the risks of having terminal services only vs. VPN + terminal services, and they need to decide if those risks are acceptable.\n\nSome people really hate policies, communicating with other teams, and otherwise keeping IT as transparent as possible. I tend to think these are the same people who make firm judgements like \"thou shalt not use public facing RDP\" or \"Exchange is the only real mail solution for on prem\". There's no such thing as universal best practice. There are practices that are best for an organization's needs and goals.\n\nUsually, the business as a whole doesn't care about rdp vs. vpn. They care about sensitive data, adhering to regulations/laws, and ensuring they can continue to do whatever it is they're supposed to be doing. Our job isn't to force a solution down their throat, but to identify how technology helps them achieve their goal, or how it exposes them to risks -- security or otherwise.\n\nRDP isn't a broken protocol. The security mechanisms work. However, it's an easy attack vector for people to try to compromise. So, there's a lot to setup in order to keep it secure. Microsoft has left a few 0 days unpatched for days/weeks in order to adhere to their patch schedule. How often does that happen? When it happens, are there ways to mitigate the risk in the mean time? This creates the probability that 0 days are a concern.\n\nObviously, having an extra layer of security is more secure than not having that layer. But, most offices don't have security guards standing in their lobby as people come in. But it would be silly to suggest that all lobbies need security guards, just like it would be silly to suggest that NO lobbies need security guards. It's all about risk.\n\nGranted, sometimes it's clear the poster has no idea what they're doing. But it works both ways. I've seen people suggest good security controls for stupid reasons on this subreddit. For example, I've seen _so many people_ cite ransomware variants as a reason to take local admin access away from users. \n\nWhat? Really? A lot of those viruses run in userspace. If a stakeholder agrees with \"no local admin\" primarily because it solves this scary ransomware issue, you're going to have _a lot_ of explaining to do if the organization gets hit anyway, or if you start trying to implement a real solution to ransomware that requires buy in. It erodes trust. Especially if the transition is painful, rather than simple. \n\nSpouting mantras about terminal services shows the same lack of thought. It's a nebulous best practice because reasons, rather than something you analyze and make an educated decision about. \n\nImagine going to an organization that invested hundreds of thousands of dollars for a robust terminal server solution that's secure and public facing. The new guy comes in, spouting about how bad it is. Comes up with this plan to recreate it all behind a VPN. The old guy is in trouble, right? He made them waste all this money! \n\nSo, you sit down before a bunch of important people to answer all their questions. And they pull out a risk assessment the old guy did. They go down the list, point by point, asking you for any clarifications. Every one you try to make was addressed. Every solution you proposed was looked at already and shot down. The previous guy _was_ competent, it turns out. And now you don't seem to be.\n\nThe first advice I always see on here is \"document everything, find out why it was set up like that. See what needs to be improved\". Yet, whenever someone mentioned an aspect of their environment, you get a large segment saying \"STOP! Don't do that!!!\" unchallenged. Yet, the people saying \"STOP!\" are in the same position as the new guy: no insight at all. \n \nIt's weird. But I guess it's just human nature.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;It&amp;#39;s all about risk: identifying risk, mitigating risk, accepting risk.&lt;/p&gt;\n\n&lt;p&gt;Any organization needs to look at the risks of having terminal services only vs. VPN + terminal services, and they need to decide if those risks are acceptable.&lt;/p&gt;\n\n&lt;p&gt;Some people really hate policies, communicating with other teams, and otherwise keeping IT as transparent as possible. I tend to think these are the same people who make firm judgements like &amp;quot;thou shalt not use public facing RDP&amp;quot; or &amp;quot;Exchange is the only real mail solution for on prem&amp;quot;. There&amp;#39;s no such thing as universal best practice. There are practices that are best for an organization&amp;#39;s needs and goals.&lt;/p&gt;\n\n&lt;p&gt;Usually, the business as a whole doesn&amp;#39;t care about rdp vs. vpn. They care about sensitive data, adhering to regulations/laws, and ensuring they can continue to do whatever it is they&amp;#39;re supposed to be doing. Our job isn&amp;#39;t to force a solution down their throat, but to identify how technology helps them achieve their goal, or how it exposes them to risks -- security or otherwise.&lt;/p&gt;\n\n&lt;p&gt;RDP isn&amp;#39;t a broken protocol. The security mechanisms work. However, it&amp;#39;s an easy attack vector for people to try to compromise. So, there&amp;#39;s a lot to setup in order to keep it secure. Microsoft has left a few 0 days unpatched for days/weeks in order to adhere to their patch schedule. How often does that happen? When it happens, are there ways to mitigate the risk in the mean time? This creates the probability that 0 days are a concern.&lt;/p&gt;\n\n&lt;p&gt;Obviously, having an extra layer of security is more secure than not having that layer. But, most offices don&amp;#39;t have security guards standing in their lobby as people come in. But it would be silly to suggest that all lobbies need security guards, just like it would be silly to suggest that NO lobbies need security guards. It&amp;#39;s all about risk.&lt;/p&gt;\n\n&lt;p&gt;Granted, sometimes it&amp;#39;s clear the poster has no idea what they&amp;#39;re doing. But it works both ways. I&amp;#39;ve seen people suggest good security controls for stupid reasons on this subreddit. For example, I&amp;#39;ve seen &lt;em&gt;so many people&lt;/em&gt; cite ransomware variants as a reason to take local admin access away from users. &lt;/p&gt;\n\n&lt;p&gt;What? Really? A lot of those viruses run in userspace. If a stakeholder agrees with &amp;quot;no local admin&amp;quot; primarily because it solves this scary ransomware issue, you&amp;#39;re going to have &lt;em&gt;a lot&lt;/em&gt; of explaining to do if the organization gets hit anyway, or if you start trying to implement a real solution to ransomware that requires buy in. It erodes trust. Especially if the transition is painful, rather than simple. &lt;/p&gt;\n\n&lt;p&gt;Spouting mantras about terminal services shows the same lack of thought. It&amp;#39;s a nebulous best practice because reasons, rather than something you analyze and make an educated decision about. &lt;/p&gt;\n\n&lt;p&gt;Imagine going to an organization that invested hundreds of thousands of dollars for a robust terminal server solution that&amp;#39;s secure and public facing. The new guy comes in, spouting about how bad it is. Comes up with this plan to recreate it all behind a VPN. The old guy is in trouble, right? He made them waste all this money! &lt;/p&gt;\n\n&lt;p&gt;So, you sit down before a bunch of important people to answer all their questions. And they pull out a risk assessment the old guy did. They go down the list, point by point, asking you for any clarifications. Every one you try to make was addressed. Every solution you proposed was looked at already and shot down. The previous guy &lt;em&gt;was&lt;/em&gt; competent, it turns out. And now you don&amp;#39;t seem to be.&lt;/p&gt;\n\n&lt;p&gt;The first advice I always see on here is &amp;quot;document everything, find out why it was set up like that. See what needs to be improved&amp;quot;. Yet, whenever someone mentioned an aspect of their environment, you get a large segment saying &amp;quot;STOP! Don&amp;#39;t do that!!!&amp;quot; unchallenged. Yet, the people saying &amp;quot;STOP!&amp;quot; are in the same position as the new guy: no insight at all. &lt;/p&gt;\n\n&lt;p&gt;It&amp;#39;s weird. But I guess it&amp;#39;s just human nature.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg5u99h", "score_hidden": false, "stickied": false, "created": 1492031779.0, "created_utc": 1492002979.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 3}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": "", "user_reports": [], "id": "dg52zvb", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "TransNOC", "parent_id": "t1_dg52olt", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "Google EvlWatcher it's free and blocks RDP bruteforce attempts.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Google EvlWatcher it&amp;#39;s free and blocks RDP bruteforce attempts.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg52zvb", "score_hidden": false, "stickied": false, "created": 1491980698.0, "created_utc": 1491951898.0, "depth": 3, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dg52olt", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "TNTGav", "parent_id": "t1_dg4pq3g", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "Was quite excited when I saw this but on reading further:\n\nhttps://cyberarms.net/download-pricing/installation-configuration.aspx\n\n\"The free license is limited to five locks per day which means the free edition defends your system against five unique attacks per day. \"\n\n", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Was quite excited when I saw this but on reading further:&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://cyberarms.net/download-pricing/installation-configuration.aspx\"&gt;https://cyberarms.net/download-pricing/installation-configuration.aspx&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;&amp;quot;The free license is limited to five locks per day which means the free edition defends your system against five unique attacks per day. &amp;quot;&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg52olt", "score_hidden": false, "stickied": false, "created": 1491980281.0, "created_utc": 1491951481.0, "depth": 2, "mod_reports": [], "subreddit_type": "public", "ups": 2}}], "after": null, "before": null}}, "user_reports": [], "id": "dg4pq3g", "gilded": 0, "archived": false, "score": 5, "report_reasons": null, "author": "grdlock", "parent_id": "t1_dg4j0xg", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "Now, mind you, my primary client base is the sub-1000 user market. So most of what I'm talking about here wouldn't necessarily apply to a major enterprise, global network, etc.\n\nPersonally, to mitigate brute force, I've started installing this open source app called \"Cyberarms Intrusion Prevention\" on my public facing terminal servers. It's basically the same concept as the old school \"ts_block\" script used back in the day to block brute forces, except it's a simply to use GUI. Basically just a service that monitors failed authentication attempts and and uses Windows Firewall to automatically block IPs based off X number of failed logins. Simple and effective.\n\nQuick screenshot of how much it's currently blocking on one of my servers:\nhttp://imgur.com/a/VibMK", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Now, mind you, my primary client base is the sub-1000 user market. So most of what I&amp;#39;m talking about here wouldn&amp;#39;t necessarily apply to a major enterprise, global network, etc.&lt;/p&gt;\n\n&lt;p&gt;Personally, to mitigate brute force, I&amp;#39;ve started installing this open source app called &amp;quot;Cyberarms Intrusion Prevention&amp;quot; on my public facing terminal servers. It&amp;#39;s basically the same concept as the old school &amp;quot;ts_block&amp;quot; script used back in the day to block brute forces, except it&amp;#39;s a simply to use GUI. Basically just a service that monitors failed authentication attempts and and uses Windows Firewall to automatically block IPs based off X number of failed logins. Simple and effective.&lt;/p&gt;\n\n&lt;p&gt;Quick screenshot of how much it&amp;#39;s currently blocking on one of my servers:\n&lt;a href=\"http://imgur.com/a/VibMK\"&gt;http://imgur.com/a/VibMK&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg4pq3g", "score_hidden": false, "stickied": false, "created": 1491965274.0, "created_utc": 1491936474.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 5}}], "after": null, "before": null}}, "user_reports": [], "id": "dg4j0xg", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "UnhandledInception", "parent_id": "t3_64rxij", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "I think it comes down to ~~two~~ a bunch of things. I think RDP/RDS can be used securely but I've also seen tons of implementations where it was being used insecurely because it is so easy to set it up incorrectly.\n\nFirstly, VPN is more secure when it implements client certificate based authentication. RDP can do this however there is a large overlap of people who don't and who use RDP. Not implementing multi-factor authentication presents the risk of stolen credential reuse or password guessing attacks.\n\nSecondly, if you are using a Windows server as the VPN gateway then this might not apply, but in many networks if I hack a network device I don't get nearly as much access as hacking a Windows domain member server. Sure, both machines can then be used to pivot into the network but one has a lot more privileges due to that membership. Assuming I am able to exploit a Windows member server my efforts are then going to be to get privileged escalation until I can steal other user credentials. If a domain admin ever logs into that VPN device it's pretty much game over.\n\nThe third point is somewhat anecdotal based on the history. Microsoft puts itself in a tough spot by including a lot of functionality into Windows. This creates a broader attack surface for attacks. Using Microsoft devices as gateways into your secure network segments is a risk many people don't believe is worth taking. Most network devices have a significantly smaller code base and number of functions against which an attack could be targeted.\n\nFourth, Microsoft is a gigantic target because of the \"return on effort\" for finding exploits in their code.\n\nFinally, by having a non-Windows device play that role of gateway, for many attack vectors, it means you need to hack one platform and then a second one before you get significant access. For credential stealing / reuse this might not be applicable, but if we're talking about straight network service attacks it is conceivable that in a Windows exclusive network I can walk between multiple hosts without impediment because of the homogeneous architecture. If you do not implement SSO at the VPN you also might need two sets of credentials to actually make it into the domain.\n\n&gt; RDP's biggest risk is passwords being brute forced. This is severely mitigated by a good password policy and some type of brute force prevention system on the terminal server.\n\nCan you explain what you mean by a brute force prevention system? Most environments rely on 'Account lockout threshold' to prevent brute force but I've seen tons who also implement 'Reset account lockout counter after'. This significantly reduces the protections offered by the lockout.\n\nAssuming I have 300000 user accounts I want to brute force and a lockout count of 3 failed logins. I could go to account 1 on the list and attempt three logins and get locked. Or, instead I could try password 1 on account 1, then account 2, then account 3... and by the time I make it through all of them and attempt password 2 already have triggered the reset of the counter. Or I can simply create a wait timer into my program to do throttle the speed of my attack to ensure I never hit the same account multiple times within the timer. Sure, a penetration tester with 5 days to attack can't afford that time but if I am a real world adversary with some patience I can let it go for months with minimal interaction.", "edited": 1491930023.0, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;I think it comes down to &lt;del&gt;two&lt;/del&gt; a bunch of things. I think RDP/RDS can be used securely but I&amp;#39;ve also seen tons of implementations where it was being used insecurely because it is so easy to set it up incorrectly.&lt;/p&gt;\n\n&lt;p&gt;Firstly, VPN is more secure when it implements client certificate based authentication. RDP can do this however there is a large overlap of people who don&amp;#39;t and who use RDP. Not implementing multi-factor authentication presents the risk of stolen credential reuse or password guessing attacks.&lt;/p&gt;\n\n&lt;p&gt;Secondly, if you are using a Windows server as the VPN gateway then this might not apply, but in many networks if I hack a network device I don&amp;#39;t get nearly as much access as hacking a Windows domain member server. Sure, both machines can then be used to pivot into the network but one has a lot more privileges due to that membership. Assuming I am able to exploit a Windows member server my efforts are then going to be to get privileged escalation until I can steal other user credentials. If a domain admin ever logs into that VPN device it&amp;#39;s pretty much game over.&lt;/p&gt;\n\n&lt;p&gt;The third point is somewhat anecdotal based on the history. Microsoft puts itself in a tough spot by including a lot of functionality into Windows. This creates a broader attack surface for attacks. Using Microsoft devices as gateways into your secure network segments is a risk many people don&amp;#39;t believe is worth taking. Most network devices have a significantly smaller code base and number of functions against which an attack could be targeted.&lt;/p&gt;\n\n&lt;p&gt;Fourth, Microsoft is a gigantic target because of the &amp;quot;return on effort&amp;quot; for finding exploits in their code.&lt;/p&gt;\n\n&lt;p&gt;Finally, by having a non-Windows device play that role of gateway, for many attack vectors, it means you need to hack one platform and then a second one before you get significant access. For credential stealing / reuse this might not be applicable, but if we&amp;#39;re talking about straight network service attacks it is conceivable that in a Windows exclusive network I can walk between multiple hosts without impediment because of the homogeneous architecture. If you do not implement SSO at the VPN you also might need two sets of credentials to actually make it into the domain.&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;p&gt;RDP&amp;#39;s biggest risk is passwords being brute forced. This is severely mitigated by a good password policy and some type of brute force prevention system on the terminal server.&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;Can you explain what you mean by a brute force prevention system? Most environments rely on &amp;#39;Account lockout threshold&amp;#39; to prevent brute force but I&amp;#39;ve seen tons who also implement &amp;#39;Reset account lockout counter after&amp;#39;. This significantly reduces the protections offered by the lockout.&lt;/p&gt;\n\n&lt;p&gt;Assuming I have 300000 user accounts I want to brute force and a lockout count of 3 failed logins. I could go to account 1 on the list and attempt three logins and get locked. Or, instead I could try password 1 on account 1, then account 2, then account 3... and by the time I make it through all of them and attempt password 2 already have triggered the reset of the counter. Or I can simply create a wait timer into my program to do throttle the speed of my attack to ensure I never hit the same account multiple times within the timer. Sure, a penetration tester with 5 days to attack can&amp;#39;t afford that time but if I am a real world adversary with some patience I can let it go for months with minimal interaction.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg4j0xg", "score_hidden": false, "stickied": false, "created": 1491957956.0, "created_utc": 1491929156.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 2}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": "", "user_reports": [], "id": "dg51z7u", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "silver565", "parent_id": "t3_64rxij", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "I basically see he whole thing as breaking the security onion argument.  That extra layer doesn't take long to build, and it's just worth it", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;I basically see he whole thing as breaking the security onion argument.  That extra layer doesn&amp;#39;t take long to build, and it&amp;#39;s just worth it&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg51z7u", "score_hidden": false, "stickied": false, "created": 1491979362.0, "created_utc": 1491950562.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 2}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": "", "user_reports": [], "id": "dg5k2zd", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "irwincur", "parent_id": "t3_64rxij", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "I think the important thing is that removing open ports removes you from the list of low hanging fruit. Honestly most of these people are simply looking for open ports in general RDP ranges and hammering them.  It is a numbers game, and it is the fastest and easiest way to find a target to attack.  Removing that open port and forcing VPN reduces your threat level substantially.  The effort it takes to setup VPN access is minimal and makes a large immediate difference.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;I think the important thing is that removing open ports removes you from the list of low hanging fruit. Honestly most of these people are simply looking for open ports in general RDP ranges and hammering them.  It is a numbers game, and it is the fastest and easiest way to find a target to attack.  Removing that open port and forcing VPN reduces your threat level substantially.  The effort it takes to setup VPN access is minimal and makes a large immediate difference.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg5k2zd", "score_hidden": false, "stickied": false, "created": 1492006440.0, "created_utc": 1491977640.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 2}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": "", "user_reports": [], "id": "dg561pm", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "LOLBaltSS", "parent_id": "t3_64rxij", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "The biggest issue I've seen as of late is Dharma using open RDP access as a vector for crypto attacks.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;The biggest issue I&amp;#39;ve seen as of late is Dharma using open RDP access as a vector for crypto attacks.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg561pm", "score_hidden": false, "stickied": false, "created": 1491984817.0, "created_utc": 1491956017.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 1}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": "", "user_reports": [], "id": "dg5kbbr", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "briangig", "parent_id": "t1_dg5jt89", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "Ah, so a workstation would show the username on the login screen if they were still logged in maybe? I will have to test this out...", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Ah, so a workstation would show the username on the login screen if they were still logged in maybe? I will have to test this out...&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg5kbbr", "score_hidden": false, "stickied": false, "created": 1492006992.0, "created_utc": 1491978192.0, "depth": 2, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dg5jt89", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "irwincur", "parent_id": "t1_dg5hnma", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "Same here we have managed to kill most of the RDP remote access now.  I did have one this week that slipped by (an old customer I rarely deal with) and their machine had a user on it who managed to create two local accounts - they were obviously attempting to monitor the network and had installed some software including additional remote access.  Luckily this was not a domain computer and the fix was a quick rebuild, and a good lesson for this business owner.  I was tempted to put an image in the lab and watch it for a while.\n\nI think the problem is that PC's show the last logged in user by default, this is likely how they are finding usernames.  TS does not do this.\n\nI still don't know how they managed to brute force the complex password however.  That is the scary part to me.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Same here we have managed to kill most of the RDP remote access now.  I did have one this week that slipped by (an old customer I rarely deal with) and their machine had a user on it who managed to create two local accounts - they were obviously attempting to monitor the network and had installed some software including additional remote access.  Luckily this was not a domain computer and the fix was a quick rebuild, and a good lesson for this business owner.  I was tempted to put an image in the lab and watch it for a while.&lt;/p&gt;\n\n&lt;p&gt;I think the problem is that PC&amp;#39;s show the last logged in user by default, this is likely how they are finding usernames.  TS does not do this.&lt;/p&gt;\n\n&lt;p&gt;I still don&amp;#39;t know how they managed to brute force the complex password however.  That is the scary part to me.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg5jt89", "score_hidden": false, "stickied": false, "created": 1492005796.0, "created_utc": 1491976996.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dg5hnma", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "briangig", "parent_id": "t3_64rxij", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "I'm going to disagree.  In the last 6-7 months we've seen a huge surge in brute force attacks against all our clients.  I can think of about a dozen instances where RDP was open to either a TS or a workstation (just old remote setups that have not been closed up yet) and brute force attacks were locking out accounts at a rate that was unbelievable.  These botnets are getting the usernames correct, locking out accounts...if anyone has any clue as to how, please explain to me...other than website scraping I have not idea, but how they would correlate the business with some IP is beyond me. \n\nThe latest one, this past week, we were having bad pw attempts on three accounts at a rate of about 30-40 every half hour.  Finally tracked it down to a remote site (w/ a VPN) that had RDP open to a workstation, which was getting hammered with RDP attempts, once again, with random/predictable usernames, AND the real ones mixed in.\n\nWe have another stubborn client who has RDP open to the Internet.  I installed https://rdpguard.com/ on the TS for the hell of it, and it is getting hit from IPs all over Europe, jumping from country to country. Once again, you guessed it, getting the usernames correct alot of the times.\n\nYes RD Gateway prevents this, but absolutely do not just open RDP to the Internet, and changing the port does jack crap, the botnets find them.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;I&amp;#39;m going to disagree.  In the last 6-7 months we&amp;#39;ve seen a huge surge in brute force attacks against all our clients.  I can think of about a dozen instances where RDP was open to either a TS or a workstation (just old remote setups that have not been closed up yet) and brute force attacks were locking out accounts at a rate that was unbelievable.  These botnets are getting the usernames correct, locking out accounts...if anyone has any clue as to how, please explain to me...other than website scraping I have not idea, but how they would correlate the business with some IP is beyond me. &lt;/p&gt;\n\n&lt;p&gt;The latest one, this past week, we were having bad pw attempts on three accounts at a rate of about 30-40 every half hour.  Finally tracked it down to a remote site (w/ a VPN) that had RDP open to a workstation, which was getting hammered with RDP attempts, once again, with random/predictable usernames, AND the real ones mixed in.&lt;/p&gt;\n\n&lt;p&gt;We have another stubborn client who has RDP open to the Internet.  I installed &lt;a href=\"https://rdpguard.com/\"&gt;https://rdpguard.com/&lt;/a&gt; on the TS for the hell of it, and it is getting hit from IPs all over Europe, jumping from country to country. Once again, you guessed it, getting the usernames correct alot of the times.&lt;/p&gt;\n\n&lt;p&gt;Yes RD Gateway prevents this, but absolutely do not just open RDP to the Internet, and changing the port does jack crap, the botnets find them.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg5hnma", "score_hidden": false, "stickied": false, "created": 1492001456.0, "created_utc": 1491972656.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 1}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": "", "user_reports": [], "id": "dg5sg4b", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "robertito42", "parent_id": "t3_64rxij", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "&gt;a public-facing RDP environment that utilizes proper security is considered 100% HIPAA compliant\n\nProvided you've done a risk assessment, sure.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;blockquote&gt;\n&lt;p&gt;a public-facing RDP environment that utilizes proper security is considered 100% HIPAA compliant&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;Provided you&amp;#39;ve done a risk assessment, sure.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg5sg4b", "score_hidden": false, "stickied": false, "created": 1492028862.0, "created_utc": 1492000062.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 1}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": "", "user_reports": [], "id": "dg6mc83", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "1992tx3", "parent_id": "t3_64rxij", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "I'm stuck with a web-facing terminal server for now due to hosting costs and the use case for our users. Slapping a VPN in front of it simply won't do. \n\nHere's what I've done to secure it as much as possible whilst still having it usable:\n\n1. Ensure the server is always patched up-to-date\n2. Force NLA via GPO\n3. Install RDPGuard. \n4. Use Duo\n5. Apply a credential hygiene GPO, don't allow higher-tier admins to log on to that box\n6. Set Windows to only cache the last 1 login\n7. Put EMET in front of SvcHost.exe. Could potentially prevent some 0-days\n8. Block Internet access from that server (no route out)\n9. Disallow clipboard and drive redirection\n10. Examine the security logs with PowerShell, and ensure that any generic usernames that are often targeted don't exist, or have strong passwords. Eg. print, scan, etc.\n\nI think the market is crying out for an easy, secure solution.  One look at shodan.io can tell you that. ", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;I&amp;#39;m stuck with a web-facing terminal server for now due to hosting costs and the use case for our users. Slapping a VPN in front of it simply won&amp;#39;t do. &lt;/p&gt;\n\n&lt;p&gt;Here&amp;#39;s what I&amp;#39;ve done to secure it as much as possible whilst still having it usable:&lt;/p&gt;\n\n&lt;ol&gt;\n&lt;li&gt;Ensure the server is always patched up-to-date&lt;/li&gt;\n&lt;li&gt;Force NLA via GPO&lt;/li&gt;\n&lt;li&gt;Install RDPGuard. &lt;/li&gt;\n&lt;li&gt;Use Duo&lt;/li&gt;\n&lt;li&gt;Apply a credential hygiene GPO, don&amp;#39;t allow higher-tier admins to log on to that box&lt;/li&gt;\n&lt;li&gt;Set Windows to only cache the last 1 login&lt;/li&gt;\n&lt;li&gt;Put EMET in front of SvcHost.exe. Could potentially prevent some 0-days&lt;/li&gt;\n&lt;li&gt;Block Internet access from that server (no route out)&lt;/li&gt;\n&lt;li&gt;Disallow clipboard and drive redirection&lt;/li&gt;\n&lt;li&gt;Examine the security logs with PowerShell, and ensure that any generic usernames that are often targeted don&amp;#39;t exist, or have strong passwords. Eg. print, scan, etc.&lt;/li&gt;\n&lt;/ol&gt;\n\n&lt;p&gt;I think the market is crying out for an easy, secure solution.  One look at shodan.io can tell you that. &lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg6mc83", "score_hidden": false, "stickied": false, "created": 1492062421.0, "created_utc": 1492033621.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 1}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": "", "user_reports": [], "id": "dg5kh9i", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "WingsofWar", "parent_id": "t3_64rxij", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "We have a few terminal servers available on the internet, we did server hardening as much as we could and only provided port access internally to proxy services on non-standard ports. We run a 0 trust network and have firewalls, encryption, and appliance load balancing and the entire thing is being provided using NAT rules. We had a few security consulting companies help us do pen testing on it and they said it was more secure than some VPN offerings they have seen. Sure we have pretty beefy VPN client available, as well as a Citrix farm to publish an RDP app. But this was a solution for our vendors and clients to get some of our rendered services over the wire. I think the biggest argument here is simplicity and level of effort. Some companies are just not ready to offer RDP services other the internet because they do not have the infrastructure or the resources to make it happen right. Its actually easier and more resourceful to be lazy and secure a VPN service to wrap an RDP session into it and not worry to hard on potential hacking. I don't think i'd ever recommend to someone use \"RDP over the internet\" if i know their next question is going to be, \"how do i do that?\". If you are going to offer \"terminal server as a service\" you should be pretty well versed in what is involved in making that happen or at least know where to start in deploying that kind of service.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;We have a few terminal servers available on the internet, we did server hardening as much as we could and only provided port access internally to proxy services on non-standard ports. We run a 0 trust network and have firewalls, encryption, and appliance load balancing and the entire thing is being provided using NAT rules. We had a few security consulting companies help us do pen testing on it and they said it was more secure than some VPN offerings they have seen. Sure we have pretty beefy VPN client available, as well as a Citrix farm to publish an RDP app. But this was a solution for our vendors and clients to get some of our rendered services over the wire. I think the biggest argument here is simplicity and level of effort. Some companies are just not ready to offer RDP services other the internet because they do not have the infrastructure or the resources to make it happen right. Its actually easier and more resourceful to be lazy and secure a VPN service to wrap an RDP session into it and not worry to hard on potential hacking. I don&amp;#39;t think i&amp;#39;d ever recommend to someone use &amp;quot;RDP over the internet&amp;quot; if i know their next question is going to be, &amp;quot;how do i do that?&amp;quot;. If you are going to offer &amp;quot;terminal server as a service&amp;quot; you should be pretty well versed in what is involved in making that happen or at least know where to start in deploying that kind of service.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg5kh9i", "score_hidden": false, "stickied": false, "created": 1492007393.0, "created_utc": 1491978593.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 1}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": "", "user_reports": [], "id": "dg5mtw7", "gilded": 0, "archived": false, "score": 0, "report_reasons": null, "author": "cr0ft", "parent_id": "t3_64rxij", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "Public facing terminal server as it comes out of the box? Idiocy. You're going to be screwed, because users have passwords that are guessable by a 5-year old. \n\nPublic facing terminal server with an RD gateway in front of it? Considerably better, but password guessing is still a major issue. You can limit that by setting a low limit for retries, but this can potentially get you tons of users who constantly need their accounts unlocked.\n\nPublic facing terminal server with https://duo.com/ or some other two-factor setup? Just as good as a VPN, quite possibly better than a non-two-factor VPN.\n\nThe issue isn't that RDP is insufficiently encrypted. The issue is that you're exposing users with shit passwords to the world in a way everybody knows how to access and on what port. It's not just an \"attack vector\", it's dropping trou and bending over in front of the entire Internet - unless you go dual factor.", "edited": 1491985420.0, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Public facing terminal server as it comes out of the box? Idiocy. You&amp;#39;re going to be screwed, because users have passwords that are guessable by a 5-year old. &lt;/p&gt;\n\n&lt;p&gt;Public facing terminal server with an RD gateway in front of it? Considerably better, but password guessing is still a major issue. You can limit that by setting a low limit for retries, but this can potentially get you tons of users who constantly need their accounts unlocked.&lt;/p&gt;\n\n&lt;p&gt;Public facing terminal server with &lt;a href=\"https://duo.com/\"&gt;https://duo.com/&lt;/a&gt; or some other two-factor setup? Just as good as a VPN, quite possibly better than a non-two-factor VPN.&lt;/p&gt;\n\n&lt;p&gt;The issue isn&amp;#39;t that RDP is insufficiently encrypted. The issue is that you&amp;#39;re exposing users with shit passwords to the world in a way everybody knows how to access and on what port. It&amp;#39;s not just an &amp;quot;attack vector&amp;quot;, it&amp;#39;s dropping trou and bending over in front of the entire Internet - unless you go dual factor.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg5mtw7", "score_hidden": false, "stickied": false, "created": 1492013900.0, "created_utc": 1491985100.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 0}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": "", "user_reports": [], "id": "dg52hg1", "gilded": 0, "archived": false, "score": -1, "report_reasons": null, "author": "evobe", "parent_id": "t3_64rxij", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "Thanks for this, I was told by my boss to create a public facing TS for RDP connections. After thinking about it a while I really started to get concerned about security. This post includes some of my worries and describes some ways I can secure it even more than I've already done. ", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Thanks for this, I was told by my boss to create a public facing TS for RDP connections. After thinking about it a while I really started to get concerned about security. This post includes some of my worries and describes some ways I can secure it even more than I&amp;#39;ve already done. &lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg52hg1", "score_hidden": false, "stickied": false, "created": 1491980020.0, "created_utc": 1491951220.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": -1}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qnp7", "removal_reason": null, "link_id": "t3_64rxij", "likes": null, "replies": "", "user_reports": [], "id": "dg59v3s", "gilded": 0, "archived": false, "score": -2, "report_reasons": null, "author": "Excalexec", "parent_id": "t3_64rxij", "subreddit_name_prefixed": "r/sysadmin", "controversiality": 0, "body": "It's also not a bad idea to setup the remote access with a different port.(not 3389)", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;It&amp;#39;s also not a bad idea to setup the remote access with a different port.(not 3389)&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "sysadmin", "name": "t1_dg59v3s", "score_hidden": false, "stickied": false, "created": 1491989790.0, "created_utc": 1491960990.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": -2}}], "after": null, "before": null}}]