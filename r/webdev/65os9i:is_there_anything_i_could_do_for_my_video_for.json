[{"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t3", "data": {"contest_mode": false, "banned_by": null, "media_embed": {}, "subreddit": "webdev", "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;pre&gt;&lt;code&gt;&amp;lt;div id=&amp;quot;video_container&amp;quot; style=&amp;quot;align-items:center;display:flex;height:100%;justify-content:center;margin-bottom:0px;margin-left:0px;margin-right:0px;margin-top:2.5px;overflow:hidden;&amp;quot;&amp;gt;\n  &amp;lt;video id=&amp;quot;video&amp;quot; width=&amp;quot;50%&amp;quot; autoplay loop muted preload&amp;gt;&amp;lt;/video&amp;gt;\n&amp;lt;/div&amp;gt;\n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;At &lt;code&gt;width=&amp;quot;100%&amp;quot;&lt;/code&gt; or larger than &lt;code&gt;75%&lt;/code&gt;my web page is already at 200 K of resources used. And it lags my user interface (buttons take a while to be clicked, ...). At this point I set it at &lt;code&gt;width=&amp;quot;50%&amp;quot;&lt;/code&gt; there is lags but unnoticeable, but it is unsettling to see the video only half the size.&lt;/p&gt;\n\n&lt;p&gt;Since, I use this webcam for face tracking and QR reader, is there any way I could make faster? Perhaps by lowering the quality of the &lt;code&gt;&amp;lt;video&amp;gt;&lt;/code&gt;?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "selftext": "    &lt;div id=\"video_container\" style=\"align-items:center;display:flex;height:100%;justify-content:center;margin-bottom:0px;margin-left:0px;margin-right:0px;margin-top:2.5px;overflow:hidden;\"&gt;\n      &lt;video id=\"video\" width=\"50%\" autoplay loop muted preload&gt;&lt;/video&gt;\n    &lt;/div&gt;\n\nAt `width=\"100%\"` or larger than `75%`my web page is already at 200 K of resources used. And it lags my user interface (buttons take a while to be clicked, ...). At this point I set it at `width=\"50%\"` there is lags but unnoticeable, but it is unsettling to see the video only half the size.\n\nSince, I use this webcam for face tracking and QR reader, is there any way I could make faster? Perhaps by lowering the quality of the `&lt;video&gt;`?", "likes": null, "suggested_sort": null, "user_reports": [], "secure_media": null, "link_flair_text": null, "id": "65os9i", "gilded": 0, "secure_media_embed": {}, "clicked": false, "score": 8, "report_reasons": null, "author": "reddit_lonely", "saved": false, "mod_reports": [], "name": "t3_65os9i", "subreddit_name_prefixed": "r/webdev", "approved_by": null, "over_18": false, "domain": "self.webdev", "hidden": false, "thumbnail": "self", "subreddit_id": "t5_2qs0q", "edited": 1492347744.0, "link_flair_css_class": null, "author_flair_css_class": null, "downs": 0, "brand_safe": true, "archived": false, "removal_reason": null, "is_self": true, "hide_score": false, "spoiler": false, "permalink": "/r/webdev/comments/65os9i/is_there_anything_i_could_do_for_my_video_for/", "num_reports": null, "locked": false, "stickied": false, "created": 1492372973.0, "url": "https://www.reddit.com/r/webdev/comments/65os9i/is_there_anything_i_could_do_for_my_video_for/", "author_flair_text": null, "quarantine": false, "title": "Is there anything I could do for my `&lt;video&gt;` for face detection using TrackingJS to take less resource?", "created_utc": 1492344173.0, "distinguished": null, "media": null, "upvote_ratio": 0.85, "num_comments": 10, "visited": false, "subreddit_type": "public", "ups": 8}}], "after": null, "before": null}}, {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qs0q", "removal_reason": null, "link_id": "t3_65os9i", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qs0q", "removal_reason": null, "link_id": "t3_65os9i", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qs0q", "removal_reason": null, "link_id": "t3_65os9i", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qs0q", "removal_reason": null, "link_id": "t3_65os9i", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qs0q", "removal_reason": null, "link_id": "t3_65os9i", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qs0q", "removal_reason": null, "link_id": "t3_65os9i", "likes": null, "replies": "", "user_reports": [], "id": "dgcfdvo", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "reddit_lonely", "parent_id": "t1_dgcbmes", "subreddit_name_prefixed": "r/webdev", "controversiality": 0, "body": "Alright, I get what you meant. I think this is more like making a motion JPEG display with determined interval.\n\nSeems, like not straight out of the box solution, I will try to implemented this when I have spare time. Thank you!", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Alright, I get what you meant. I think this is more like making a motion JPEG display with determined interval.&lt;/p&gt;\n\n&lt;p&gt;Seems, like not straight out of the box solution, I will try to implemented this when I have spare time. Thank you!&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "webdev", "name": "t1_dgcfdvo", "score_hidden": false, "stickied": false, "created": 1492398605.0, "created_utc": 1492369805.0, "depth": 5, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dgcbmes", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "psayre23", "parent_id": "t1_dgcbbr4", "subreddit_name_prefixed": "r/webdev", "controversiality": 0, "body": "Something like this, but with a setTimeout loop instead of gui.add() or whatever. \n\nhttps://github.com/eduardolundgren/tracking.js/blob/master/examples/fast.html\n\nSee how they take the image and write it to the canvas? Do the same thing, but with the video. You can pass the video to drawImage() and it'll render out the current frame. That does the downsampling and grayscaling. Do that in a setTimeout loop once every 100-200ms or so and you'll have a lower resource detect.\n\nThe reason why the setTimeout loop is faster is because tracking uses requestAnimationFrame() for detection. That runs once every 16ms (roughly). Using your own loop that drops back detection to once every 200ms saves processing all those extra frames. Search for \"requestAnimationFrame\" here is the source to see what I mean.\n\nhttps://github.com/eduardolundgren/tracking.js/blob/master/src/tracking.js", "edited": 1492365167.0, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Something like this, but with a setTimeout loop instead of gui.add() or whatever. &lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://github.com/eduardolundgren/tracking.js/blob/master/examples/fast.html\"&gt;https://github.com/eduardolundgren/tracking.js/blob/master/examples/fast.html&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;See how they take the image and write it to the canvas? Do the same thing, but with the video. You can pass the video to drawImage() and it&amp;#39;ll render out the current frame. That does the downsampling and grayscaling. Do that in a setTimeout loop once every 100-200ms or so and you&amp;#39;ll have a lower resource detect.&lt;/p&gt;\n\n&lt;p&gt;The reason why the setTimeout loop is faster is because tracking uses requestAnimationFrame() for detection. That runs once every 16ms (roughly). Using your own loop that drops back detection to once every 200ms saves processing all those extra frames. Search for &amp;quot;requestAnimationFrame&amp;quot; here is the source to see what I mean.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://github.com/eduardolundgren/tracking.js/blob/master/src/tracking.js\"&gt;https://github.com/eduardolundgren/tracking.js/blob/master/src/tracking.js&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "webdev", "name": "t1_dgcbmes", "score_hidden": false, "stickied": false, "created": 1492393582.0, "created_utc": 1492364782.0, "depth": 4, "mod_reports": [], "subreddit_type": "public", "ups": 2}}], "after": null, "before": null}}, "user_reports": [], "id": "dgcbbr4", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "reddit_lonely", "parent_id": "t1_dgcarhz", "subreddit_name_prefixed": "r/webdev", "controversiality": 0, "body": "I am not using `&lt;canvas&gt;` but `&lt;video&gt;`. Can you give me a little bit more pointer? I am not sure on how to make `&lt;canvas&gt;` or whatever you mentioned to me to reduce the framerate.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;I am not using &lt;code&gt;&amp;lt;canvas&amp;gt;&lt;/code&gt; but &lt;code&gt;&amp;lt;video&amp;gt;&lt;/code&gt;. Can you give me a little bit more pointer? I am not sure on how to make &lt;code&gt;&amp;lt;canvas&amp;gt;&lt;/code&gt; or whatever you mentioned to me to reduce the framerate.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "webdev", "name": "t1_dgcbbr4", "score_hidden": false, "stickied": false, "created": 1492393195.0, "created_utc": 1492364395.0, "depth": 3, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dgcarhz", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "psayre23", "parent_id": "t1_dgcaofr", "subreddit_name_prefixed": "r/webdev", "controversiality": 0, "body": "It's all canvas work prior to Tracking analyzing it. It's not on the video element. Though, you might be able to use a CSS filter to grayscale.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;It&amp;#39;s all canvas work prior to Tracking analyzing it. It&amp;#39;s not on the video element. Though, you might be able to use a CSS filter to grayscale.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "webdev", "name": "t1_dgcarhz", "score_hidden": false, "stickied": false, "created": 1492392445.0, "created_utc": 1492363645.0, "depth": 2, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dgcaofr", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "reddit_lonely", "parent_id": "t1_dgc8cnp", "subreddit_name_prefixed": "r/webdev", "controversiality": 0, "body": "Hey there!\n\nI have no idea on how to drop the frame rate nor make it grey scale. Would you tell me? I looked at this page, https://www.w3schools.com/tags/ref_av_dom.asp. There is nothing refer to greyscale nor frame rate.\n\nEDIT, this is an example of video as big as your browser view port but it still gives smooth user interface, https://www.the-qrcode-generator.com/scan.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Hey there!&lt;/p&gt;\n\n&lt;p&gt;I have no idea on how to drop the frame rate nor make it grey scale. Would you tell me? I looked at this page, &lt;a href=\"https://www.w3schools.com/tags/ref_av_dom.asp\"&gt;https://www.w3schools.com/tags/ref_av_dom.asp&lt;/a&gt;. There is nothing refer to greyscale nor frame rate.&lt;/p&gt;\n\n&lt;p&gt;EDIT, this is an example of video as big as your browser view port but it still gives smooth user interface, &lt;a href=\"https://www.the-qrcode-generator.com/scan\"&gt;https://www.the-qrcode-generator.com/scan&lt;/a&gt;.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "webdev", "name": "t1_dgcaofr", "score_hidden": false, "stickied": false, "created": 1492392335.0, "created_utc": 1492363535.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dgc8cnp", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "psayre23", "parent_id": "t3_65os9i", "subreddit_name_prefixed": "r/webdev", "controversiality": 0, "body": "Yes, and this sounds counter intuitive, but make the video smaller, and make it grayscaled. The algo used in TrackingJS shrinks the video and gray scales it anyway, so may as well feed it something closer to its final format. \n\nIf you have web workers with shared buffers, you could throw it over to another process, but that's still not fully rolled out on the web. \n\nAnother option is to drop the frame rate. I'm betting your are processing 60fps or 30fps. Drop that down to 5 or 10 and see what happens. \n\nI've used versions of the tricks about to take a source video shown to a person, copied it into a canvas with the reduction steps above, and found a decent perf in UI from it. You'll of course have to implement your own UI though. ", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Yes, and this sounds counter intuitive, but make the video smaller, and make it grayscaled. The algo used in TrackingJS shrinks the video and gray scales it anyway, so may as well feed it something closer to its final format. &lt;/p&gt;\n\n&lt;p&gt;If you have web workers with shared buffers, you could throw it over to another process, but that&amp;#39;s still not fully rolled out on the web. &lt;/p&gt;\n\n&lt;p&gt;Another option is to drop the frame rate. I&amp;#39;m betting your are processing 60fps or 30fps. Drop that down to 5 or 10 and see what happens. &lt;/p&gt;\n\n&lt;p&gt;I&amp;#39;ve used versions of the tricks about to take a source video shown to a person, copied it into a canvas with the reduction steps above, and found a decent perf in UI from it. You&amp;#39;ll of course have to implement your own UI though. &lt;/p&gt;\n&lt;/div&gt;", "subreddit": "webdev", "name": "t1_dgc8cnp", "score_hidden": false, "stickied": false, "created": 1492389311.0, "created_utc": 1492360511.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 1}}, {"kind": "t1", "data": {"subreddit_id": "t5_2qs0q", "removal_reason": null, "link_id": "t3_65os9i", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qs0q", "removal_reason": null, "link_id": "t3_65os9i", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qs0q", "removal_reason": null, "link_id": "t3_65os9i", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2qs0q", "removal_reason": null, "link_id": "t3_65os9i", "likes": null, "replies": "", "user_reports": [], "id": "dgdme7z", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "reddit_lonely", "parent_id": "t1_dgdm86u", "subreddit_name_prefixed": "r/webdev", "controversiality": 0, "body": "Alright, no problem.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Alright, no problem.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "webdev", "name": "t1_dgdme7z", "score_hidden": false, "stickied": false, "created": 1492471697.0, "created_utc": 1492442897.0, "depth": 3, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dgdm86u", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "thecrazycatman", "parent_id": "t1_dgdkang", "subreddit_name_prefixed": "r/webdev", "controversiality": 0, "body": "Yeah but it has a lot of my personal information which I will remove and send you the link to sometime later today.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Yeah but it has a lot of my personal information which I will remove and send you the link to sometime later today.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "webdev", "name": "t1_dgdm86u", "score_hidden": false, "stickied": false, "created": 1492471500.0, "created_utc": 1492442700.0, "depth": 2, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dgdkang", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "reddit_lonely", "parent_id": "t1_dgd1s1i", "subreddit_name_prefixed": "r/webdev", "controversiality": 0, "body": "Would like love to know! Do you host your codes in GitHub.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Would like love to know! Do you host your codes in GitHub.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "webdev", "name": "t1_dgdkang", "score_hidden": false, "stickied": false, "created": 1492469119.0, "created_utc": 1492440319.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dgd1s1i", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "thecrazycatman", "parent_id": "t3_65os9i", "subreddit_name_prefixed": "r/webdev", "controversiality": 0, "body": "Hey I just made a project using this. What I did was decrease the size down and used CSS scale to resize it up *as is*. For my purpose it was perfect. Maybe for you, you need more detail in the view. ", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Hey I just made a project using this. What I did was decrease the size down and used CSS scale to resize it up &lt;em&gt;as is&lt;/em&gt;. For my purpose it was perfect. Maybe for you, you need more detail in the view. &lt;/p&gt;\n&lt;/div&gt;", "subreddit": "webdev", "name": "t1_dgd1s1i", "score_hidden": false, "stickied": false, "created": 1492428703.0, "created_utc": 1492399903.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}]