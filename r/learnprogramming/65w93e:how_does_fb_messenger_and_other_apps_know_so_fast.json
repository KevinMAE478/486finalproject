[{"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t3", "data": {"contest_mode": false, "banned_by": null, "media_embed": {}, "subreddit": "learnprogramming", "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I was trying to find how something like that is implemented, but couldn&amp;#39;t find anything.&lt;/p&gt;\n\n&lt;p&gt;Is my phone / browser constantly calling a server and asking if I got a message? Or is there a more sophisticated way that this works?&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "selftext": "I was trying to find how something like that is implemented, but couldn't find anything.\n\nIs my phone / browser constantly calling a server and asking if I got a message? Or is there a more sophisticated way that this works?\n\n", "likes": null, "suggested_sort": null, "user_reports": [], "secure_media": null, "link_flair_text": null, "id": "65w93e", "gilded": 0, "secure_media_embed": {}, "clicked": false, "score": 56, "report_reasons": null, "author": "BleLLL", "saved": false, "mod_reports": [], "name": "t3_65w93e", "subreddit_name_prefixed": "r/learnprogramming", "approved_by": null, "over_18": false, "domain": "self.learnprogramming", "hidden": false, "thumbnail": "", "subreddit_id": "t5_2r7yd", "edited": false, "link_flair_css_class": null, "author_flair_css_class": null, "downs": 0, "brand_safe": true, "archived": false, "removal_reason": null, "is_self": true, "hide_score": false, "spoiler": false, "permalink": "/r/learnprogramming/comments/65w93e/how_does_fb_messenger_and_other_apps_know_so_fast/", "num_reports": null, "locked": false, "stickied": false, "created": 1492472028.0, "url": "https://www.reddit.com/r/learnprogramming/comments/65w93e/how_does_fb_messenger_and_other_apps_know_so_fast/", "author_flair_text": null, "quarantine": false, "title": "How does fb messenger and other apps know so fast when I get a message?", "created_utc": 1492443228.0, "distinguished": null, "media": null, "upvote_ratio": 0.9, "num_comments": 14, "visited": false, "subreddit_type": "public", "ups": 56}}], "after": null, "before": null}}, {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2r7yd", "removal_reason": null, "link_id": "t3_65w93e", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2r7yd", "removal_reason": null, "link_id": "t3_65w93e", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2r7yd", "removal_reason": null, "link_id": "t3_65w93e", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2r7yd", "removal_reason": null, "link_id": "t3_65w93e", "likes": null, "replies": "", "user_reports": [], "id": "dge9wmw", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "ELFAHBEHT_SOOP", "parent_id": "t1_dgdo0br", "subreddit_name_prefixed": "r/learnprogramming", "controversiality": 0, "body": "The current standard way to do this on Android is [Firebase](https://firebase.google.com/docs/cloud-messaging/).", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;The current standard way to do this on Android is &lt;a href=\"https://firebase.google.com/docs/cloud-messaging/\"&gt;Firebase&lt;/a&gt;.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "learnprogramming", "name": "t1_dge9wmw", "score_hidden": false, "stickied": false, "created": 1492498831.0, "created_utc": 1492470031.0, "depth": 3, "mod_reports": [], "subreddit_type": "public", "ups": 2}}], "after": null, "before": null}}, "user_reports": [], "id": "dgdo0br", "gilded": 0, "archived": false, "score": 10, "report_reasons": null, "author": "pacificmint", "parent_id": "t1_dgdnhg7", "subreddit_name_prefixed": "r/learnprogramming", "controversiality": 0, "body": "I believe it depends on wether the app is open or not. \n\nWhen it's open the app can simply open a connection and then wait, and the server can use the connection to push when new data is available. \n\nIf the app is not open, then you have to use the OS's push mechanism. Basically an iPhone will register with an Apple server, and you'll send a push message to Apple, which will forward it to the phone. I assume Android has something similar. ", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;I believe it depends on wether the app is open or not. &lt;/p&gt;\n\n&lt;p&gt;When it&amp;#39;s open the app can simply open a connection and then wait, and the server can use the connection to push when new data is available. &lt;/p&gt;\n\n&lt;p&gt;If the app is not open, then you have to use the OS&amp;#39;s push mechanism. Basically an iPhone will register with an Apple server, and you&amp;#39;ll send a push message to Apple, which will forward it to the phone. I assume Android has something similar. &lt;/p&gt;\n&lt;/div&gt;", "subreddit": "learnprogramming", "name": "t1_dgdo0br", "score_hidden": false, "stickied": false, "created": 1492473552.0, "created_utc": 1492444752.0, "depth": 2, "mod_reports": [], "subreddit_type": "public", "ups": 10}}, {"kind": "t1", "data": {"subreddit_id": "t5_2r7yd", "removal_reason": null, "link_id": "t3_65w93e", "likes": null, "replies": "", "user_reports": [], "id": "dgdnx1k", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "learnjava", "parent_id": "t1_dgdnhg7", "subreddit_name_prefixed": "r/learnprogramming", "controversiality": 0, "body": "none of this, if your connection switches it is up to you to reconnect. Some libraries will solve this for you but its still some hassle. long polling and websockets are basic protocols, no full solution optimized for mobile use cases", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;none of this, if your connection switches it is up to you to reconnect. Some libraries will solve this for you but its still some hassle. long polling and websockets are basic protocols, no full solution optimized for mobile use cases&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "learnprogramming", "name": "t1_dgdnx1k", "score_hidden": false, "stickied": false, "created": 1492473447.0, "created_utc": 1492444647.0, "depth": 2, "mod_reports": [], "subreddit_type": "public", "ups": 2}}, {"kind": "t1", "data": {"subreddit_id": "t5_2r7yd", "removal_reason": null, "link_id": "t3_65w93e", "likes": null, "replies": "", "user_reports": [], "id": "dgeds16", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "rib-bit", "parent_id": "t1_dgdnhg7", "subreddit_name_prefixed": "r/learnprogramming", "controversiality": 0, "body": "the \"connection\" is independent of the physical connection - thre are 7 layers in a standard network stack\n\nhttps://en.wikipedia.org/wiki/OSI_model", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;the &amp;quot;connection&amp;quot; is independent of the physical connection - thre are 7 layers in a standard network stack&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=\"https://en.wikipedia.org/wiki/OSI_model\"&gt;https://en.wikipedia.org/wiki/OSI_model&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "learnprogramming", "name": "t1_dgeds16", "score_hidden": false, "stickied": false, "created": 1492503829.0, "created_utc": 1492475029.0, "depth": 2, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dgdnhg7", "gilded": 0, "archived": false, "score": 4, "report_reasons": null, "author": "BleLLL", "parent_id": "t1_dgdmwb4", "subreddit_name_prefixed": "r/learnprogramming", "controversiality": 0, "body": "How does it push to mobile? Does it track which IP I was connected as last if I go from wifi to 4g?", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;How does it push to mobile? Does it track which IP I was connected as last if I go from wifi to 4g?&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "learnprogramming", "name": "t1_dgdnhg7", "score_hidden": false, "stickied": false, "created": 1492472954.0, "created_utc": 1492444154.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 4}}], "after": null, "before": null}}, "user_reports": [], "id": "dgdmwb4", "gilded": 0, "archived": false, "score": 23, "report_reasons": null, "author": "pacificmint", "parent_id": "t3_65w93e", "subreddit_name_prefixed": "r/learnprogramming", "controversiality": 0, "body": "\n&gt;Is my phone / browser constantly calling a server and asking if I got a message? Or is there a more sophisticated way that this works?\n\nNo, the server pushes the new message to the client. In the browser, there are two techniques you can use: Long Polling (sometimes called Comet) or Websockets.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;blockquote&gt;\n&lt;p&gt;Is my phone / browser constantly calling a server and asking if I got a message? Or is there a more sophisticated way that this works?&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;No, the server pushes the new message to the client. In the browser, there are two techniques you can use: Long Polling (sometimes called Comet) or Websockets.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "learnprogramming", "name": "t1_dgdmwb4", "score_hidden": false, "stickied": false, "created": 1492472280.0, "created_utc": 1492443480.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 23}}, {"kind": "t1", "data": {"subreddit_id": "t5_2r7yd", "removal_reason": null, "link_id": "t3_65w93e", "likes": null, "replies": "", "user_reports": [], "id": "dgdnv1a", "gilded": 0, "archived": false, "score": 7, "report_reasons": null, "author": "learnjava", "parent_id": "t3_65w93e", "subreddit_name_prefixed": "r/learnprogramming", "controversiality": 0, "body": "But before you get your hopes up, this kind of messaging is very specific and usually done by apple and google in house. Facebook like any other app is probably using their services https://en.wikipedia.org/wiki/Apple_Push_Notification_Service \nor they might go with a mix https://www.quora.com/Why-did-Facebook-decided-to-use-MQTT-instead-of-Apple-push-notification-service-for-their-app\n\nI am not sure if IOS allows you to permanently keep something running in background but I hope not.\nFor performance reasons you would not want everyone to constantly send your stuff to a phone (**battery** mostly)\n\nso yeah this is a more complex unique implementation but if your app is actively running you would use what pacificmint described.\nIf you want to guarantee that your notification reaches the phone no matter whether its not connected to cell, powered off, restarted, app minimized, app suspended, app crashed etc., you should prob use APN or GCM\n\nthese are no replacements for websockets or long polling, they are simply more optimized means to send the initial message. Once your app is open you can take over completely", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;But before you get your hopes up, this kind of messaging is very specific and usually done by apple and google in house. Facebook like any other app is probably using their services &lt;a href=\"https://en.wikipedia.org/wiki/Apple_Push_Notification_Service\"&gt;https://en.wikipedia.org/wiki/Apple_Push_Notification_Service&lt;/a&gt; \nor they might go with a mix &lt;a href=\"https://www.quora.com/Why-did-Facebook-decided-to-use-MQTT-instead-of-Apple-push-notification-service-for-their-app\"&gt;https://www.quora.com/Why-did-Facebook-decided-to-use-MQTT-instead-of-Apple-push-notification-service-for-their-app&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;I am not sure if IOS allows you to permanently keep something running in background but I hope not.\nFor performance reasons you would not want everyone to constantly send your stuff to a phone (&lt;strong&gt;battery&lt;/strong&gt; mostly)&lt;/p&gt;\n\n&lt;p&gt;so yeah this is a more complex unique implementation but if your app is actively running you would use what pacificmint described.\nIf you want to guarantee that your notification reaches the phone no matter whether its not connected to cell, powered off, restarted, app minimized, app suspended, app crashed etc., you should prob use APN or GCM&lt;/p&gt;\n\n&lt;p&gt;these are no replacements for websockets or long polling, they are simply more optimized means to send the initial message. Once your app is open you can take over completely&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "learnprogramming", "name": "t1_dgdnv1a", "score_hidden": false, "stickied": false, "created": 1492473382.0, "created_utc": 1492444582.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 7}}, {"kind": "t1", "data": {"subreddit_id": "t5_2r7yd", "removal_reason": null, "link_id": "t3_65w93e", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2r7yd", "removal_reason": null, "link_id": "t3_65w93e", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2r7yd", "removal_reason": null, "link_id": "t3_65w93e", "likes": null, "replies": "", "user_reports": [], "id": "dge3r92", "gilded": 0, "archived": false, "score": 4, "report_reasons": null, "author": "amasten", "parent_id": "t1_dge0i3s", "subreddit_name_prefixed": "r/learnprogramming", "controversiality": 0, "body": "Yeah my bad, wrote my comment without rechecking it ! Thanks for pointing that out and correcting me ! ", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Yeah my bad, wrote my comment without rechecking it ! Thanks for pointing that out and correcting me ! &lt;/p&gt;\n&lt;/div&gt;", "subreddit": "learnprogramming", "name": "t1_dge3r92", "score_hidden": false, "stickied": false, "created": 1492491184.0, "created_utc": 1492462384.0, "depth": 2, "mod_reports": [], "subreddit_type": "public", "ups": 4}}], "after": null, "before": null}}, "user_reports": [], "id": "dge0i3s", "gilded": 0, "archived": false, "score": 8, "report_reasons": null, "author": "ClydeMachine", "parent_id": "t1_dgdq5gk", "subreddit_name_prefixed": "r/learnprogramming", "controversiality": 0, "body": "I think you have your terminology flipped. Synchronous is used to describe when a send/receive event occurs, which is [a blocking event](http://www.cs.unc.edu/~dewan/242/s04/notes/ipc/node11.html), where asynchronous is a non-blocking event, where messages can be sent and can be received, but aren't locked to waiting for a request to receive a response.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;I think you have your terminology flipped. Synchronous is used to describe when a send/receive event occurs, which is &lt;a href=\"http://www.cs.unc.edu/%7Edewan/242/s04/notes/ipc/node11.html\"&gt;a blocking event&lt;/a&gt;, where asynchronous is a non-blocking event, where messages can be sent and can be received, but aren&amp;#39;t locked to waiting for a request to receive a response.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "learnprogramming", "name": "t1_dge0i3s", "score_hidden": false, "stickied": false, "created": 1492487545.0, "created_utc": 1492458745.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 8}}], "after": null, "before": null}}, "user_reports": [], "id": "dgdq5gk", "gilded": 0, "archived": false, "score": 5, "report_reasons": null, "author": "amasten", "parent_id": "t3_65w93e", "subreddit_name_prefixed": "r/learnprogramming", "controversiality": 0, "body": "Most of the web connections are asynchronous meaning that the client (you) asks for data and the server answers back.\n\nHowever, technologies like Websockets (Socket.io, Pusher, etc.) rely on a synchronous system meaning that there is no need for a user request, the server is always listening for events. This is the main difference, the event handling. For instance, you write a message and immediatly the server broadcasts an event to all its channels (phone push nots, emails, database), once these broadcasting services catch the event, they react to it by showing you a notification.\n\nThe difference between asynchronous and synchronous is the delay of response. Asynchronous waits for calls, then there's the server ping back time delay whereas the synchronous way is instantaneous. There is no downtime (or maybe 1-2ms which is insanely fast) which is why you automatically get your Messenger notification.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Most of the web connections are asynchronous meaning that the client (you) asks for data and the server answers back.&lt;/p&gt;\n\n&lt;p&gt;However, technologies like Websockets (Socket.io, Pusher, etc.) rely on a synchronous system meaning that there is no need for a user request, the server is always listening for events. This is the main difference, the event handling. For instance, you write a message and immediatly the server broadcasts an event to all its channels (phone push nots, emails, database), once these broadcasting services catch the event, they react to it by showing you a notification.&lt;/p&gt;\n\n&lt;p&gt;The difference between asynchronous and synchronous is the delay of response. Asynchronous waits for calls, then there&amp;#39;s the server ping back time delay whereas the synchronous way is instantaneous. There is no downtime (or maybe 1-2ms which is insanely fast) which is why you automatically get your Messenger notification.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "learnprogramming", "name": "t1_dgdq5gk", "score_hidden": false, "stickied": false, "created": 1492475963.0, "created_utc": 1492447163.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 5}}, {"kind": "t1", "data": {"subreddit_id": "t5_2r7yd", "removal_reason": null, "link_id": "t3_65w93e", "likes": null, "replies": "", "user_reports": [], "id": "dgdw58x", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "just_give_me_a_name", "parent_id": "t3_65w93e", "subreddit_name_prefixed": "r/learnprogramming", "controversiality": 0, "body": "https://en.wikipedia.org/wiki/WebSocket", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;&lt;a href=\"https://en.wikipedia.org/wiki/WebSocket\"&gt;https://en.wikipedia.org/wiki/WebSocket&lt;/a&gt;&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "learnprogramming", "name": "t1_dgdw58x", "score_hidden": false, "stickied": false, "created": 1492482610.0, "created_utc": 1492453810.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 2}}, {"kind": "t1", "data": {"subreddit_id": "t5_2r7yd", "removal_reason": null, "link_id": "t3_65w93e", "likes": null, "replies": "", "user_reports": [], "id": "dgeayof", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "MR2Rick", "parent_id": "t3_65w93e", "subreddit_name_prefixed": "r/learnprogramming", "controversiality": 0, "body": "Might be pub/sub or some variation of it. If so [zeromq](http://zeromq.org), [mqtt](http://mqtt.org) or [amqp](https://www.amqp.org/) might interest you.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Might be pub/sub or some variation of it. If so &lt;a href=\"http://zeromq.org\"&gt;zeromq&lt;/a&gt;, &lt;a href=\"http://mqtt.org\"&gt;mqtt&lt;/a&gt; or &lt;a href=\"https://www.amqp.org/\"&gt;amqp&lt;/a&gt; might interest you.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "learnprogramming", "name": "t1_dgeayof", "score_hidden": false, "stickied": false, "created": 1492500223.0, "created_utc": 1492471423.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 1}}, {"kind": "t1", "data": {"subreddit_id": "t5_2r7yd", "removal_reason": null, "link_id": "t3_65w93e", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2r7yd", "removal_reason": null, "link_id": "t3_65w93e", "likes": null, "replies": "", "user_reports": [], "id": "dgee6y6", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "HomemadeBananas", "parent_id": "t1_dge237u", "subreddit_name_prefixed": "r/learnprogramming", "controversiality": 0, "body": "It has nothing to do with React. It's handled with Firebase Cloud Messaging on Android and Apple Push Notification service on iOS. It's actually handled by the OS once the permission has been granted and the device ID has been registered in your backend. Then your backend can send requests to FCM or APN, which handles sending a message to the device.", "edited": 1492475822.0, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;It has nothing to do with React. It&amp;#39;s handled with Firebase Cloud Messaging on Android and Apple Push Notification service on iOS. It&amp;#39;s actually handled by the OS once the permission has been granted and the device ID has been registered in your backend. Then your backend can send requests to FCM or APN, which handles sending a message to the device.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "learnprogramming", "name": "t1_dgee6y6", "score_hidden": false, "stickied": false, "created": 1492504345.0, "created_utc": 1492475545.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dge237u", "gilded": 0, "archived": false, "score": 0, "report_reasons": null, "author": "Warrlock608", "parent_id": "t3_65w93e", "subreddit_name_prefixed": "r/learnprogramming", "controversiality": 0, "body": "I was under the impression this was accomplished with react.js. Each object has several \"States\" one of which is called isMounting, that is when you see the ... while people type. isMounted would be after the message is sent, it can be displayed and then recorded on a server to be called upon at a later date. This is all speculation mind you, I am in no way a master of react, but this is my understanding of how it works.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;I was under the impression this was accomplished with react.js. Each object has several &amp;quot;States&amp;quot; one of which is called isMounting, that is when you see the ... while people type. isMounted would be after the message is sent, it can be displayed and then recorded on a server to be called upon at a later date. This is all speculation mind you, I am in no way a master of react, but this is my understanding of how it works.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "learnprogramming", "name": "t1_dge237u", "score_hidden": false, "stickied": false, "created": 1492489324.0, "created_utc": 1492460524.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 0}}], "after": null, "before": null}}]