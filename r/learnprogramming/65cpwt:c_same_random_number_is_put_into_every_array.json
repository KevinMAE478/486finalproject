[{"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t3", "data": {"contest_mode": false, "banned_by": null, "media_embed": {}, "subreddit": "learnprogramming", "selftext_html": "&lt;!-- SC_OFF --&gt;&lt;div class=\"md\"&gt;&lt;p&gt;I started coding just a few weeks ago, as you can probably see from my code, so please ELI5.&lt;br/&gt;\nI&amp;#39;m doing a simple die rolling program from a book I bought. The answer to the problem can be seen here: &lt;a href=\"http://starboundsoftware.com/books/c-sharp/try-it-out/die-rolling\"&gt;http://starboundsoftware.com/books/c-sharp/try-it-out/die-rolling&lt;/a&gt;, but I&amp;#39;m still interested in seeing why my initial try doesn&amp;#39;t work. &lt;/p&gt;\n\n&lt;pre&gt;&lt;code&gt;        Console.Write(&amp;quot;How many dice (6 sided)? &amp;quot;);\n        int numberOfDice = Convert.ToInt32(Console.ReadLine());\n\n        if (numberOfDice &amp;lt; 1)\n        {\n            Console.WriteLine(&amp;quot;Choose at least one die&amp;quot;);\n            Console.ReadKey();\n        }\n        else\n        {\n            for(int i = 0; i &amp;lt; numberOfDice; i++)\n            {\n                int[] dieResult = new int[numberOfDice];\n\n\n                Random random = new Random();\n                dieResult[i] = random.Next(6) + 1;\n\n                int printResult = dieResult[i];\n                Console.Write(printResult + &amp;quot;, &amp;quot;);\n            }\n        }\n\n        Console.ReadKey();    \n&lt;/code&gt;&lt;/pre&gt;\n\n&lt;p&gt;Basically it will print the same number (die roll) on all the dice selected. So if you select 4 dice, it will print x,x,x,x, instead of x,y,z,a,&lt;/p&gt;\n\n&lt;p&gt;First time asking a coding question anywhere, so I hope I did it right.&lt;/p&gt;\n\n&lt;p&gt;EDIT: Thanks for all the quick replies! Simply moving the random outside the if statement fixed it.&lt;/p&gt;\n&lt;/div&gt;&lt;!-- SC_ON --&gt;", "selftext": "I started coding just a few weeks ago, as you can probably see from my code, so please ELI5.  \nI'm doing a simple die rolling program from a book I bought. The answer to the problem can be seen here: http://starboundsoftware.com/books/c-sharp/try-it-out/die-rolling, but I'm still interested in seeing why my initial try doesn't work. \n \n            Console.Write(\"How many dice (6 sided)? \");\n            int numberOfDice = Convert.ToInt32(Console.ReadLine());\n\n            if (numberOfDice &lt; 1)\n            {\n                Console.WriteLine(\"Choose at least one die\");\n                Console.ReadKey();\n            }\n            else\n            {\n                for(int i = 0; i &lt; numberOfDice; i++)\n                {\n                    int[] dieResult = new int[numberOfDice];\n                    \n\n                    Random random = new Random();\n                    dieResult[i] = random.Next(6) + 1;\n\n                    int printResult = dieResult[i];\n                    Console.Write(printResult + \", \");\n                }\n            }\n            \n            Console.ReadKey();    \n\nBasically it will print the same number (die roll) on all the dice selected. So if you select 4 dice, it will print x,x,x,x, instead of x,y,z,a,\n\nFirst time asking a coding question anywhere, so I hope I did it right.\n\nEDIT: Thanks for all the quick replies! Simply moving the random outside the if statement fixed it.", "likes": null, "suggested_sort": null, "user_reports": [], "secure_media": null, "link_flair_text": null, "id": "65cpwt", "gilded": 0, "secure_media_embed": {}, "clicked": false, "score": 19, "report_reasons": null, "author": "SB116", "saved": false, "mod_reports": [], "name": "t3_65cpwt", "subreddit_name_prefixed": "r/learnprogramming", "approved_by": null, "over_18": false, "domain": "self.learnprogramming", "hidden": false, "thumbnail": "", "subreddit_id": "t5_2r7yd", "edited": 1492181173.0, "link_flair_css_class": null, "author_flair_css_class": null, "downs": 0, "brand_safe": true, "archived": false, "removal_reason": null, "is_self": true, "hide_score": false, "spoiler": false, "permalink": "/r/learnprogramming/comments/65cpwt/c_same_random_number_is_put_into_every_array/", "num_reports": null, "locked": false, "stickied": false, "created": 1492207797.0, "url": "https://www.reddit.com/r/learnprogramming/comments/65cpwt/c_same_random_number_is_put_into_every_array/", "author_flair_text": null, "quarantine": false, "title": "[C#] same random number is put into every array.", "created_utc": 1492178997.0, "distinguished": null, "media": null, "upvote_ratio": 0.86, "num_comments": 8, "visited": false, "subreddit_type": "public", "ups": 19}}], "after": null, "before": null}}, {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2r7yd", "removal_reason": null, "link_id": "t3_65cpwt", "likes": null, "replies": "", "user_reports": [], "id": "dg96pi0", "gilded": 0, "archived": false, "score": 14, "report_reasons": null, "author": "FriendlyChickenFood", "parent_id": "t3_65cpwt", "subreddit_name_prefixed": "r/learnprogramming", "controversiality": 0, "body": "You are initializing the random object during each run through the loop.\n\nInitialize your random once (seeding its generator) outside the loop, not inside it.\n\nFrom MSDN: https://msdn.microsoft.com/en-us/library/system.random(v=vs.110).aspx\n\n&gt; Avoiding multiple instantiations\n&gt; \n&gt; Initializing two random number generators in a tight loop or in rapid succession creates two random number generators that can produce identical sequences of random numbers. In most cases, this is not the developer's intent and can lead to performance issues, because instantiating and initializing a random number generator is a relatively expensive process. ", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;You are initializing the random object during each run through the loop.&lt;/p&gt;\n\n&lt;p&gt;Initialize your random once (seeding its generator) outside the loop, not inside it.&lt;/p&gt;\n\n&lt;p&gt;From MSDN: &lt;a href=\"https://msdn.microsoft.com/en-us/library/system.random(v=vs.110).aspx\"&gt;https://msdn.microsoft.com/en-us/library/system.random(v=vs.110).aspx&lt;/a&gt;&lt;/p&gt;\n\n&lt;blockquote&gt;\n&lt;p&gt;Avoiding multiple instantiations&lt;/p&gt;\n\n&lt;p&gt;Initializing two random number generators in a tight loop or in rapid succession creates two random number generators that can produce identical sequences of random numbers. In most cases, this is not the developer&amp;#39;s intent and can lead to performance issues, because instantiating and initializing a random number generator is a relatively expensive process. &lt;/p&gt;\n&lt;/blockquote&gt;\n&lt;/div&gt;", "subreddit": "learnprogramming", "name": "t1_dg96pi0", "score_hidden": false, "stickied": false, "created": 1492208512.0, "created_utc": 1492179712.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 14}}, {"kind": "t1", "data": {"subreddit_id": "t5_2r7yd", "removal_reason": null, "link_id": "t3_65cpwt", "likes": null, "replies": {"kind": "Listing", "data": {"modhash": "", "children": [{"kind": "t1", "data": {"subreddit_id": "t5_2r7yd", "removal_reason": null, "link_id": "t3_65cpwt", "likes": null, "replies": "", "user_reports": [], "id": "dg9dncr", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "r3vbo", "parent_id": "t1_dg9c7sq", "subreddit_name_prefixed": "r/learnprogramming", "controversiality": 0, "body": "This is the correct answer", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;This is the correct answer&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "learnprogramming", "name": "t1_dg9dncr", "score_hidden": false, "stickied": false, "created": 1492216775.0, "created_utc": 1492187975.0, "depth": 1, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}, "user_reports": [], "id": "dg9c7sq", "gilded": 0, "archived": false, "score": 11, "report_reasons": null, "author": "anamorphism", "parent_id": "t3_65cpwt", "subreddit_name_prefixed": "r/learnprogramming", "controversiality": 0, "body": "if you're interested in the 'why' ...\n\nrandom number generators generally take a seed value. if you supply the same seed value to multiple `Random` class instances, the numbers you generate will be the same based on the number of times you call `.Next()`.\n\nby default in c#, the seed value is based on the current time. your loop runs quickly enough that every instance of `Random` that you make is getting the same seed value. so, when you call `random.Next(6)`, you're calling that for the first time on an instance of `Random` that was created with the same seed value as all of the others. therefore, you get the same value.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;if you&amp;#39;re interested in the &amp;#39;why&amp;#39; ...&lt;/p&gt;\n\n&lt;p&gt;random number generators generally take a seed value. if you supply the same seed value to multiple &lt;code&gt;Random&lt;/code&gt; class instances, the numbers you generate will be the same based on the number of times you call &lt;code&gt;.Next()&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;by default in c#, the seed value is based on the current time. your loop runs quickly enough that every instance of &lt;code&gt;Random&lt;/code&gt; that you make is getting the same seed value. so, when you call &lt;code&gt;random.Next(6)&lt;/code&gt;, you&amp;#39;re calling that for the first time on an instance of &lt;code&gt;Random&lt;/code&gt; that was created with the same seed value as all of the others. therefore, you get the same value.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "learnprogramming", "name": "t1_dg9c7sq", "score_hidden": false, "stickied": false, "created": 1492215187.0, "created_utc": 1492186387.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 11}}, {"kind": "t1", "data": {"subreddit_id": "t5_2r7yd", "removal_reason": null, "link_id": "t3_65cpwt", "likes": null, "replies": "", "user_reports": [], "id": "dg96pkz", "gilded": 0, "archived": false, "score": 3, "report_reasons": null, "author": "RealmShadows", "parent_id": "t3_65cpwt", "subreddit_name_prefixed": "r/learnprogramming", "controversiality": 0, "body": "I'm new to programming myself and currently only using my phone, but I believe moving the declaration of random outside of your for-loop will correct the problem you're facing.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;I&amp;#39;m new to programming myself and currently only using my phone, but I believe moving the declaration of random outside of your for-loop will correct the problem you&amp;#39;re facing.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "learnprogramming", "name": "t1_dg96pkz", "score_hidden": false, "stickied": false, "created": 1492208515.0, "created_utc": 1492179715.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 3}}, {"kind": "t1", "data": {"subreddit_id": "t5_2r7yd", "removal_reason": null, "link_id": "t3_65cpwt", "likes": null, "replies": "", "user_reports": [], "id": "dg96rmo", "gilded": 0, "archived": false, "score": 3, "report_reasons": null, "author": "TheHuskyena", "parent_id": "t3_65cpwt", "subreddit_name_prefixed": "r/learnprogramming", "controversiality": 0, "body": "First, you should create the dieResult array outside the loop. The way it is now, you're creating a new array for every die, and that array only contains one result. It'd be better to have the results in a single array and then print its contents after the loop has finished.\n\nBut that's not the problem here.\n\nIf you read the documentation for the Random class, particularly the *Avoiding multiple instantiations* bit, you should be able to figure out what's going on :)", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;First, you should create the dieResult array outside the loop. The way it is now, you&amp;#39;re creating a new array for every die, and that array only contains one result. It&amp;#39;d be better to have the results in a single array and then print its contents after the loop has finished.&lt;/p&gt;\n\n&lt;p&gt;But that&amp;#39;s not the problem here.&lt;/p&gt;\n\n&lt;p&gt;If you read the documentation for the Random class, particularly the &lt;em&gt;Avoiding multiple instantiations&lt;/em&gt; bit, you should be able to figure out what&amp;#39;s going on :)&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "learnprogramming", "name": "t1_dg96rmo", "score_hidden": false, "stickied": false, "created": 1492208590.0, "created_utc": 1492179790.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 3}}, {"kind": "t1", "data": {"subreddit_id": "t5_2r7yd", "removal_reason": null, "link_id": "t3_65cpwt", "likes": null, "replies": "", "user_reports": [], "id": "dg96rwn", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "scuhooper", "parent_id": "t3_65cpwt", "subreddit_name_prefixed": "r/learnprogramming", "controversiality": 0, "body": "Try creating your random variable before your for loop. The for loop executes so quickly that it gets the same seed for random. This happens because you create a new random in every iteration of the loop. ", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Try creating your random variable before your for loop. The for loop executes so quickly that it gets the same seed for random. This happens because you create a new random in every iteration of the loop. &lt;/p&gt;\n&lt;/div&gt;", "subreddit": "learnprogramming", "name": "t1_dg96rwn", "score_hidden": false, "stickied": false, "created": 1492208601.0, "created_utc": 1492179801.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 2}}, {"kind": "t1", "data": {"subreddit_id": "t5_2r7yd", "removal_reason": null, "link_id": "t3_65cpwt", "likes": null, "replies": "", "user_reports": [], "id": "dg97jdo", "gilded": 0, "archived": false, "score": 2, "report_reasons": null, "author": "DespairingSquid", "parent_id": "t3_65cpwt", "subreddit_name_prefixed": "r/learnprogramming", "controversiality": 0, "body": "Don't now C#, but at a gueess you need to seed your random number", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Don&amp;#39;t now C#, but at a gueess you need to seed your random number&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "learnprogramming", "name": "t1_dg97jdo", "score_hidden": false, "stickied": false, "created": 1492209604.0, "created_utc": 1492180804.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 2}}, {"kind": "t1", "data": {"subreddit_id": "t5_2r7yd", "removal_reason": null, "link_id": "t3_65cpwt", "likes": null, "replies": "", "user_reports": [], "id": "dg9hz34", "gilded": 0, "archived": false, "score": 1, "report_reasons": null, "author": "ZakHack", "parent_id": "t3_65cpwt", "subreddit_name_prefixed": "r/learnprogramming", "controversiality": 0, "body": "Looks like you already have many answers, but just to let you know, YOU'RE NOT THE ONLY ONE WHO STRUGGLED WITH THIS! In my Comp. Sci class, for extra credit i made a blackjack game and this bug  threw me off and It took me like a week to figure it out.", "edited": false, "downs": 0, "body_html": "&lt;div class=\"md\"&gt;&lt;p&gt;Looks like you already have many answers, but just to let you know, YOU&amp;#39;RE NOT THE ONLY ONE WHO STRUGGLED WITH THIS! In my Comp. Sci class, for extra credit i made a blackjack game and this bug  threw me off and It took me like a week to figure it out.&lt;/p&gt;\n&lt;/div&gt;", "subreddit": "learnprogramming", "name": "t1_dg9hz34", "score_hidden": false, "stickied": false, "created": 1492221740.0, "created_utc": 1492192940.0, "depth": 0, "mod_reports": [], "subreddit_type": "public", "ups": 1}}], "after": null, "before": null}}]